[{"filePath":"D:\\Projects\\qr-studios\\API License\\4K_License\\genkey.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":38},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":40},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":13,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":29}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"Ôªøconst discord = require('discord.js');\r\nconst config = require(\"./config.json\");\r\nconst commands = \"genkey\";\r\nconst commands2 = \"reips\";\r\nconst resetById = \"reset\";\r\nconst topup = new discord.Client();\r\n\r\nvar mysql = require('mysql');\r\n\r\nvar con = mysql.createPool({\r\n\thost: \"127.0.0.1\",\r\n\tuser: \"root\",\r\n\tpassword: \"\",\r\n\tdatabase: \"4k_token.license\"\r\n});\r\n\r\ntopup.on('message', message => {\r\n\r\n\tconst args = message.content.slice(config.prefix.length).trim().split(/ +/g);\r\n\tlet cmd = args.shift().toLowerCase();\r\n\r\n\tif (message.author.bot) return;\r\n\tif (!message.content.startsWith(config.prefix)) return;\r\n\r\n\tif (cmd == commands) {\r\n\t\ttry {\r\n\r\n\t\t\tif (args.length > 1 && args.length <= 3) {\r\n\t\t\t\tif (message.author.id === \"534984551722909696\") {\r\n\t\t\t\t\tvar key = `Z9_${makeid(12)}`\r\n\t\t\t\t\tcon.query(`INSERT INTO license (user, license, resourceName, dev, dayLeft) VALUES ('${args[0]}', '${key}', '${args[1]}', '<@${message.author.id}>', '${args[2] || 30}')`, function (error, results, fields) {\r\n\t\t\t\t\t\tif (error) {\r\n\r\n\t\t\t\t\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t\t\t\t\t.setColor(\"#cc0000\")\r\n\t\t\t\t\t\t\t\t.setTitle('Generator')\r\n\t\t\t\t\t\t\t\t.setDescription(\"SQL ERROR ‚ùå\")\r\n\t\t\t\t\t\t\t\t.setFooter('4K | License')\r\n\t\t\t\t\t\t\t\t.setTimestamp()\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t\t\t\t\t.setColor(\"#26cd13\")\r\n\t\t\t\t\t\t\t\t.setTitle('**Generator**')\r\n\t\t\t\t\t\t\t\t.setDescription(\"**Username** : \" + args[0] + \" \\n**Token** : \" + key + \"\\n**Resourename** : \" + args[1] + \" \\n**Genkey** : Successfully ‚úÖ\")\r\n\t\t\t\t\t\t\t\t.setFooter('4K | License')\r\n\t\t\t\t\t\t\t\t.setTimestamp()\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t\t\t.setColor(\"#cc0000\")\r\n\t\t\t\t\t\t.setTitle('Generator')\r\n\t\t\t\t\t\t.setDescription(\"you don't have permission!\")\r\n\t\t\t\t\t\t.setFooter('4K | License')\r\n\t\t\t\t\t\t.setTimestamp()\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t\t.setColor(\"#f1c232\")\r\n\t\t\t\t\t.setTitle('Generator')\r\n\t\t\t\t\t.setDescription(\"!genkey [ Discord ID ] [ Scriptname ]\")\r\n\t\t\t\t\t.setFooter('4K | License')\r\n\t\t\t\t\t.setTimestamp()\r\n\t\t\t\t)\r\n\r\n\t\t\t}\r\n\r\n\t\t} catch (e) {\r\n\r\n\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t.setColor(\"#cc0000\")\r\n\t\t\t\t.setTitle('BOT ERROR')\r\n\t\t\t\t.setDescription(\"ERROR\")\r\n\t\t\t\t.setFooter('4K | License')\r\n\r\n\t\t\t)\r\n\t\t\tconsole.log(e.stack);\r\n\t\t}\r\n\r\n\t} else if (cmd == commands2) {\r\n\t\ttry {\r\n\r\n\t\t\tif (args.length == 2) {\r\n\t\t\t\tif (message.author.id === \"534984551722909696\") {\r\n\r\n\t\t\t\t\tcon.query(\"SELECT user, license, ip, resourceName FROM license\", function (error, results, fields) {\r\n\t\t\t\t\t\tif (error) {\r\n\r\n\t\t\t\t\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t\t\t\t\t.setColor(\"#cc0000\")\r\n\t\t\t\t\t\t\t\t.setTitle('Reset IP')\r\n\t\t\t\t\t\t\t\t.setDescription(\"SQL ERROR ‚ùå\")\r\n\t\t\t\t\t\t\t\t.setFooter('4K | License')\r\n\t\t\t\t\t\t\t\t.setTimestamp()\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (var i = 0; i < results.length; i++) {\r\n\t\t\t\t\t\t\t\tvar row = results[i];\r\n\t\t\t\t\t\t\t\tvar newip = args[1]\r\n\t\t\t\t\t\t\t\tif (newip == \"none\") {\r\n\t\t\t\t\t\t\t\t\tnewip = ''\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (row.license === args[0]) {\r\n\r\n\t\t\t\t\t\t\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t\t\t\t\t\t\t.setColor(\"#26cd13\")\r\n\t\t\t\t\t\t\t\t\t\t.setTitle('Reset IP')\r\n\t\t\t\t\t\t\t\t\t\t.setDescription(`**User** : ${row.user} \\n**Token** : ${row.license} \\n **Old IP** : ${row.ip}\\n**New IP** : ${newip}\\n**Resourename** : ${row.resourceName}\\n**Reset** : Successfully ‚úÖ`)\r\n\t\t\t\t\t\t\t\t\t\t.setFooter('4K | License')\r\n\t\t\t\t\t\t\t\t\t\t.setTimestamp()\r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t\tcon.query(`UPDATE license SET ip = '${newip}' WHERE ip = '${row.ip}'`, function (error, results, fields) {\r\n\t\t\t\t\t\t\t\t\t\tif (error) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.setColor(\"#cc0000\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t.setTitle('Reset IP')\r\n\t\t\t\t\t\t\t\t\t\t\t\t.setDescription(\"SQL ERROR ‚ùå\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t.setFooter('4K | License')\r\n\t\t\t\t\t\t\t\t\t\t\t\t.setTimestamp()\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t\t\t.setColor(\"#cc0000\")\r\n\t\t\t\t\t\t.setTitle('Generator')\r\n\t\t\t\t\t\t.setDescription(\"you don't have permission!\")\r\n\t\t\t\t\t\t.setFooter('4K | License')\r\n\t\t\t\t\t\t.setTimestamp()\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t\t.setColor(\"#f1c232\")\r\n\t\t\t\t\t.setTitle('Generator')\r\n\t\t\t\t\t.setDescription(\"!reips token newip[none = '']\\n ‡∏´‡∏≤‡∏Å args[1] ‡∏´‡∏£‡∏∑‡∏≠ ‡πÑ‡∏≠‡∏û‡∏µ‡πÉ‡∏´‡∏°‡πà = none = '‡∏Ñ‡πà‡∏≤‡πÇ‡∏•‡πà‡∏á'\")\r\n\t\t\t\t\t.setFooter('4K | License')\r\n\t\t\t\t\t.setTimestamp()\r\n\t\t\t\t)\r\n\r\n\t\t\t}\r\n\r\n\t\t} catch (e) {\r\n\r\n\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t.setColor(\"#cc0000\")\r\n\t\t\t\t.setTitle('BOT ERROR')\r\n\t\t\t\t.setDescription(\"ERROR ‚ùå\")\r\n\t\t\t\t.setFooter('4K | License')\r\n\r\n\t\t\t)\r\n\t\t\tconsole.log(e.stack);\r\n\t\t}\r\n\r\n\t}else if(cmd == resetById){\r\n\t\ttry {\r\n\r\n\t\t\tcon.query(\"SELECT user, license, ip, resourceName FROM license\", function (error, results, fields) {\r\n\t\t\t\tif (error) {\r\n\r\n\t\t\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t\t\t.setColor(\"#cc0000\")\r\n\t\t\t\t\t\t.setTitle('Reset IP')\r\n\t\t\t\t\t\t.setDescription(\"SQL ERROR ‚ùå\")\r\n\t\t\t\t\t\t.setFooter('4K | License')\r\n\t\t\t\t\t\t.setTimestamp()\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (var i = 0; i < results.length; i++) {\r\n\t\t\t\t\t\tvar row = results[i];\r\n\t\t\t\t\t\tvar newip = args[1]\r\n\t\t\t\t\t\tif (newip == \"none\") {\r\n\t\t\t\t\t\t\tnewip = ''\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (row.license === args[0]) {\r\n\r\n\t\t\t\t\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t\t\t\t\t.setColor(\"#26cd13\")\r\n\t\t\t\t\t\t\t\t.setTitle(`**Reset** : Successfully ‚úÖ`)\r\n\t\t\t\t\t\t\t\t.setFooter('4K | License')\r\n\t\t\t\t\t\t\t\t.setTimestamp()\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\tcon.query(`UPDATE license SET ip = '' WHERE user = '${message.author.id}'`, function (error, results, fields) {\r\n\t\t\t\t\t\t\t\tif (error) {\r\n\r\n\t\t\t\t\t\t\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t\t\t\t\t\t\t.setColor(\"#cc0000\")\r\n\t\t\t\t\t\t\t\t\t\t.setTitle('Reset IP')\r\n\t\t\t\t\t\t\t\t\t\t.setDescription(\"SQL ERROR ‚ùå\")\r\n\t\t\t\t\t\t\t\t\t\t.setFooter('4K | License')\r\n\t\t\t\t\t\t\t\t\t\t.setTimestamp()\r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t\t\t\t} else {\r\n\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t} catch (e) {\r\n\r\n\t\t\tmessage.channel.send(new discord.MessageEmbed()\r\n\t\t\t\t.setColor(\"#cc0000\")\r\n\t\t\t\t.setTitle('BOT ERROR')\r\n\t\t\t\t.setDescription(\"ERROR ‚ùå\")\r\n\t\t\t\t.setFooter('4K | License')\r\n\r\n\t\t\t)\r\n\t\t\tconsole.log(e.stack);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n});\r\n\r\ntopup.on('ready', () => {\r\n\tconsole.log(``)\r\n\tconsole.log(` NodeJS 4KDev License Bot`)\r\n\tconsole.log(` Logged in as 4K | License !`)\r\n\tconsole.log(``)\r\n});\r\n\r\nconst tokens = config.token;\r\n\r\ntopup.login(tokens);\r\n\r\nconst makeid = length => {\r\n\tlet text = '';\r\n\tconst possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n\tfor (let i = 0; i < length; i += 1) {\r\n\t\ttext += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\t}\r\n\treturn text;\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\API License\\4K_Reset\\index.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":40},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":39,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":60}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const config = require(\"./config.json\")\r\nconst mariadb = require(\"mariadb\")\r\n\r\nconst { Client, GatewayIntentBits } = require('discord.js');\r\nconst client = new Client({\r\n    intents: [\r\n        GatewayIntentBits.Guilds,\r\n        GatewayIntentBits.GuildMessages,\r\n        GatewayIntentBits.MessageContent\r\n    ],\r\n})\r\n\r\nconst pool = mariadb.createPool({\r\n    host: config.database.host,\r\n    user: config.database.user,\r\n    password: config.database.password,\r\n    database: config.database.database,\r\n})\r\n\r\nclient.on(\"ready\", async () => {\r\n    console.log(``)\r\n    console.log(` NodeJS 4KDev ResetIP Bot`)\r\n    console.log(` Logged in as ${client.user.tag}!`)\r\n    console.log(` Running on DataBase : ${config.database.database}`)\r\n    console.log(``)\r\n})\r\n\r\nclient.on(\"messageCreate\", async (message) => {\r\n    if (message.author.bot) return\r\n\r\n    const user_tag = message.author.tag\r\n    const user_id = message.author.id\r\n    const dev_id = config.developer\r\n\r\n    let conn\r\n\r\n    try \r\n    {\r\n        if (message.channel.id == config.channelListen)\r\n        {\r\n            if (!message.member.roles.cache.find(x => x == config.roleAccess)) return\r\n\r\n            if (message.content.startsWith(\"reset\")) \r\n            {\r\n                conn = await pool.getConnection()\r\n                const stmt = await conn.prepare(`SELECT * FROM ${config.database.entity_reset} WHERE ${config.database.entity_reset}.${config.database.field_owner} = ?`)\r\n                const rows = await stmt.execute([user_id])\r\n                if (rows.length > 0)\r\n                {\r\n                    await conn.query(`UPDATE ${config.database.entity_reset} SET ${config.database.entity_reset}.${config.database.field_reset} = '' WHERE ${config.database.entity_reset}.${config.database.field_owner} = ?`, [user_id])\r\n\r\n                    if (rows.length > 1)\r\n                    {\r\n                        message.reply({\r\n                            content: null,\r\n                            embeds: [\r\n                                {\r\n                                    title: \"üß† ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ó‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏™‡πç‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à !\",\r\n                                    color: 5439335,\r\n                                    description: `‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ó‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡∏≠‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì <@${user_id}>\\n‡∏à‡∏≥‡∏ô‡∏ß‡∏ô **${rows.length}** ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå\\n\\n\\`‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ó‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ï‡πà‡∏≠ 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á\\``\r\n                                },\r\n                            ],\r\n                            message_reference: { message_id: message.id, channel_id: message.channel.id, guild_id: message.guild.id },\r\n                        })\r\n                    }\r\n                    else\r\n                    {\r\n                        message.reply({\r\n                            content: null,\r\n                            embeds: [\r\n                                {\r\n                                    title: \"üß† ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ó‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏™‡πç‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à !\",\r\n                                    color: 16761366,\r\n                                    description: `‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì <@${user_id}> ‡∏ñ‡∏π‡∏Å‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ó‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß !`\r\n                                },\r\n                            ],\r\n                            message_reference: { message_id: message.id, channel_id: message.channel.id, guild_id: message.guild.id },\r\n                        })\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    message.reply({\r\n                        content: null,\r\n                        embeds: [\r\n                            {\r\n                                title: `üß† ‡∏´‡∏≤‡∏Å‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ Gxyz`,\r\n                                color: 16711680,\r\n                                description: `‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏à‡∏≠‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì <@${user_id}>`\r\n                            },\r\n                        ],\r\n                        message_reference: { message_id: message.id, channel_id: message.channel.id, guild_id: message.guild.id },\r\n                    })\r\n                }\r\n                conn.end()\r\n            }\r\n        }\r\n\r\n    }\r\n    catch (err) { console.warn(err) }\r\n    finally { if (conn) conn.end() }\r\n})\r\n\r\nclient.login(config.bot_token)","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\app\\(main)\\checkout\\cancel\\page.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\checkout\\cancel\\page.tsx:17:5\n  15 |\n  16 |   useEffect(() => {\n> 17 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  18 |   }, []);\n  19 |\n  20 |   const renderTranslation = (key: string, options?: any): string => {","line":17,"column":5,"nodeType":null,"endLine":17,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { motion } from \"framer-motion\";\r\nimport { XCircle, ArrowLeft, ShoppingCart, MessageSquare, AlertCircle } from \"lucide-react\";\r\nimport { Button, Card } from \"@/components/ui\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport default function CheckoutCancelPage() {\r\n  const { t } = useTranslation(\"common\");\r\n  const router = useRouter();\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const renderTranslation = (key: string, options?: any): string => {\r\n    if (!mounted) return \"\";\r\n    const result = t(key, options);\r\n    return typeof result === \"string\" ? result : key;\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen pt-32 pb-20 flex items-start justify-center px-4 relative overflow-hidden\">\r\n      {/* Background Effects */}\r\n      <div className=\"fixed inset-0 -z-10\">\r\n        <div className=\"absolute top-0 left-0 w-full h-full bg-black\" />\r\n        <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-red-900/10 rounded-full blur-[160px] opacity-50\" />\r\n        <div className=\"absolute inset-0 bg-[url('/grid.svg')] opacity-10\" />\r\n      </div>\r\n\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n        animate={{ opacity: 1, scale: 1, y: 0 }}\r\n        className=\"max-w-md w-full relative z-10\"\r\n      >\r\n        <Card className=\"p-8 md:p-10 text-center border-white/5 bg-black/40 backdrop-blur-2xl shadow-2xl relative overflow-hidden\">\r\n          <div className=\"absolute top-0 left-0 w-full h-1 bg-red-600\" />\r\n          \r\n          <div className=\"w-20 h-20 mx-auto mb-6 rounded-2xl bg-red-500/10 border border-red-500/20 flex items-center justify-center shadow-inner group\">\r\n            <AlertCircle className=\"w-10 h-10 text-red-500 transition-transform duration-500 group-hover:scale-110 group-hover:rotate-12\" />\r\n          </div>\r\n          \r\n          <h1 className=\"text-xl font-black text-white mb-2 tracking-tight\">\r\n            {renderTranslation(\"checkout.cancel.title\")}\r\n          </h1>\r\n          <p className=\"text-gray-400 mb-8 leading-relaxed text-xs\">\r\n            {renderTranslation(\"checkout.cancel.desc\")}\r\n          </p>\r\n\r\n          <div className=\"space-y-3\">\r\n            <Link href=\"/cart\" className=\"block\">\r\n              <Button size=\"xl\" className=\"w-full h-12 bg-red-600 hover:bg-red-500 text-white font-black rounded-xl shadow-xl shadow-red-600/40 transition-all active:scale-95 group text-sm\">\r\n                {renderTranslation(\"checkout.cancel.back_to_cart\")}\r\n              </Button>\r\n            </Link>\r\n            <Link href=\"/products\" className=\"block\">\r\n              <Button size=\"xl\" className=\"w-full h-12 bg-white/5 border-white/10 hover:bg-white/10 text-white font-black rounded-xl transition-all active:scale-95 group text-sm\">\r\n                {renderTranslation(\"checkout.cancel.shop_more\")}\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n\r\n          <div className=\"pt-4\">\r\n            <button \r\n              onClick={() => router.push('/dashboard')}\r\n              className=\"inline-flex items-center gap-2 text-xs font-bold text-gray-500 hover:text-white transition-all group\"\r\n            >\r\n              <ArrowLeft className=\"w-3.5 h-3.5 transition-transform group-hover:-translate-x-1\" />\r\n              {renderTranslation(\"checkout.cancel.back_dashboard\")}\r\n            </button>\r\n          </div>\r\n        </Card>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\app\\(main)\\checkout\\success\\page.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\checkout\\success\\page.tsx:36:5\n  34 |\n  35 |   useEffect(() => {\n> 36 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  37 |   }, []);\n  38 |\n  39 |   const renderTranslation = (key: string, options?: any): string => {","line":36,"column":5,"nodeType":null,"endLine":36,"endColumn":15},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\checkout\\success\\page.tsx:77:5\n  75 |\n  76 |   useEffect(() => {\n> 77 |     handleVerification();\n     |     ^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  78 |   }, [handleVerification]);\n  79 |\n  80 |   if (status === \"loading\") {","line":77,"column":5,"nodeType":null,"endLine":77,"endColumn":23}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Suspense, useEffect, useState, useCallback, useMemo, useRef } from \"react\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { motion } from \"framer-motion\";\r\nimport {\r\n  Check,\r\n  Loader2,\r\n  ArrowRight,\r\n  ShoppingBag,\r\n  AlertCircle,\r\n  Star\r\n} from \"lucide-react\";\r\nimport { Button, Card, Confetti, useConfetti, Badge } from \"@/components/ui\";\r\nimport { checkoutApi } from \"@/lib/api\";\r\nimport { useCartStore } from \"@/store/cart\";\r\nimport { useAuth } from \"@/hooks/useAuth\";\r\nimport { useAuthStore } from \"@/store/auth\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nfunction CheckoutSuccessContent() {\r\n  const { t } = useTranslation(\"common\");\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const { user, verifyPayment, isVerifyingPayment, verifiedSessions } = useAuth();\r\n  const sessionId = searchParams.get(\"session_id\");\r\n  const [status, setStatus] = useState<\"loading\" | \"success\" | \"error\">(\"loading\");\r\n  const [error, setError] = useState<string | null>(null);\r\n  const { items, clearCart } = useCartStore();\r\n  const { isActive: showConfetti, trigger: triggerConfetti } = useConfetti();\r\n  const verificationStarted = useRef(false);\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const renderTranslation = (key: string, options?: any): string => {\r\n    if (!mounted) return \"\";\r\n    const result = t(key, options);\r\n    return typeof result === \"string\" ? result : key;\r\n  };\r\n\r\n  const handleVerification = useCallback(async () => {\r\n    if (!sessionId || verificationStarted.current) return;\r\n\r\n    // Check if already verified in the current session state\r\n    const alreadyVerified = useAuthStore.getState().verifiedSessions.includes(sessionId);\r\n    if (alreadyVerified) {\r\n      setStatus(\"success\");\r\n      return;\r\n    }\r\n\r\n    // If currently verifying from useAuth hook, just wait\r\n    if (isVerifyingPayment) return;\r\n\r\n    verificationStarted.current = true;\r\n    const result = await verifyPayment(sessionId);\r\n\r\n    if (result.success) {\r\n      setStatus(\"success\");\r\n      clearCart();\r\n      triggerConfetti();\r\n    } else {\r\n      // Only show error if we haven't succeeded in the meantime\r\n      if (!useAuthStore.getState().verifiedSessions.includes(sessionId)) {\r\n        setStatus(\"error\");\r\n        setError(result.error || renderTranslation(\"checkout.errors.balance_failed\"));\r\n      } else {\r\n        setStatus(\"success\");\r\n      }\r\n    }\r\n  }, [sessionId, isVerifyingPayment, verifyPayment, clearCart, triggerConfetti, renderTranslation]);\r\n\r\n  useEffect(() => {\r\n    handleVerification();\r\n  }, [handleVerification]);\r\n\r\n  if (status === \"loading\") {\r\n    return (\r\n      <div className=\"min-h-screen pt-32 flex flex-col items-center justify-center px-4 pb-20 relative overflow-hidden\">\r\n        {/* Background Effects */}\r\n        <div className=\"fixed inset-0 -z-10\">\r\n          <div className=\"absolute top-0 left-0 w-full h-full bg-black\" />\r\n          <div className=\"absolute top-1/4 left-1/4 w-[500px] h-[500px] bg-red-600/10 rounded-full blur-[128px] animate-pulse\" />\r\n          <div className=\"absolute inset-0 bg-[url('/grid.svg')] opacity-10\" />\r\n        </div>\r\n\r\n        <div className=\"w-20 h-20 rounded-3xl bg-red-500/10 border border-red-500/20 flex items-center justify-center mb-8 shadow-inner\">\r\n          <Loader2 className=\"h-10 w-10 animate-spin text-red-500\" />\r\n        </div>\r\n        <div className=\"text-center space-y-3 relative z-10\">\r\n          <h2 className=\"text-2xl font-black text-white tracking-tight\">{renderTranslation(\"common.loading\")}</h2>\r\n          <p className=\"text-gray-400 max-w-sm mx-auto leading-relaxed\">\r\n            {renderTranslation(\"checkout.processing\")}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (status === \"error\") {\r\n    return (\r\n      <div className=\"min-h-screen pt-32 flex items-start justify-center px-4 pb-20 relative overflow-hidden\">\r\n        {/* Background Effects */}\r\n        <div className=\"fixed inset-0 -z-10\">\r\n          <div className=\"absolute top-0 left-0 w-full h-full bg-black\" />\r\n          <div className=\"absolute bottom-1/4 right-1/4 w-[500px] h-[500px] bg-red-900/10 rounded-full blur-[128px] animate-pulse\" />\r\n        </div>\r\n\r\n        <Card className=\"p-8 max-w-md w-full text-center border-white/5 bg-black/40 backdrop-blur-2xl shadow-2xl relative overflow-hidden\">\r\n          <div className=\"absolute top-0 left-0 w-full h-1 bg-red-600\" />\r\n          <div className=\"w-16 h-16 mx-auto mb-6 rounded-2xl bg-red-500/10 border border-red-500/20 flex items-center justify-center shadow-inner\">\r\n            <AlertCircle className=\"w-8 h-8 text-red-500\" />\r\n          </div>\r\n          <h1 className=\"text-2xl font-black text-white mb-2 tracking-tight\">{renderTranslation(\"common.error\")}</h1>\r\n          <p className=\"text-gray-400 mb-8 leading-relaxed\">\r\n            {error || renderTranslation(\"checkout.errors.balance_failed\")}\r\n          </p>\r\n          <div className=\"space-y-3\">\r\n            <Link href=\"/checkout\" className=\"block group\">\r\n              <Button size=\"xl\" className=\"w-full bg-red-600 hover:bg-red-500 text-white font-black rounded-xl shadow-xl shadow-red-600/20 transition-all active:scale-95 group text-sm h-12\">\r\n                <span>{renderTranslation(\"checkout.back_to_cart\")}</span>\r\n                <ArrowRight className=\"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1\" />\r\n              </Button>\r\n            </Link>\r\n            <Link href=\"/contact\" className=\"block\">\r\n              <Button variant=\"secondary\" size=\"xl\" className=\"w-full bg-white/5 border-white/10 hover:bg-white/10 text-white font-bold rounded-xl transition-all active:scale-95 text-sm h-12\">\r\n                {renderTranslation(\"nav.contact\")}\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen pt-32 pb-20 flex items-start justify-center px-4 relative overflow-hidden\">\r\n      <div className=\"fixed inset-0 -z-10\">\r\n        <div className=\"absolute top-0 left-0 w-full h-full bg-black\" />\r\n        <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-red-600/10 rounded-full blur-[160px] opacity-50\" />\r\n        <div className=\"absolute inset-0 bg-[url('/grid.svg')] opacity-10\" />\r\n      </div>\r\n      <Confetti isActive={showConfetti} />\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n        animate={{ opacity: 1, scale: 1, y: 0 }}\r\n        className=\"max-w-md w-full relative z-10\"\r\n      >\r\n        <Card className=\"p-8 md:p-10 text-center border-white/5 bg-black/40 backdrop-blur-2xl shadow-2xl relative overflow-hidden\">\r\n          <div className=\"absolute top-0 left-0 w-full h-1 bg-linear-to-r from-red-600 via-red-500 to-transparent\" />\r\n\r\n          <div className=\"w-20 h-20 mx-auto mb-6 rounded-full bg-red-500/10 border border-red-500/20 flex items-center justify-center shadow-inner relative\">\r\n            <Check className=\"w-10 h-10 text-red-500\" />\r\n            <div className=\"absolute inset-0 rounded-full border-2 border-red-500 animate-ping opacity-20\" />\r\n          </div>\r\n\r\n          <h1 className=\"text-2xl font-black text-white mb-2 tracking-tighter uppercase\">{renderTranslation(\"checkout.success.title\")}</h1>\r\n          <p className=\"text-gray-400 mb-8 leading-relaxed text-xs\">\r\n            {renderTranslation(\"checkout.success.desc\")}\r\n          </p>\r\n\r\n          <div className=\"bg-white/2 rounded-2xl p-6 mb-8 border border-white/5 relative group overflow-hidden\">\r\n            <div className=\"absolute inset-0 bg-linear-to-br from-red-600/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500\" />\r\n            <div className=\"space-y-4 relative z-10 text-left\">\r\n              <div className=\"flex justify-between items-center text-xs\">\r\n                <span className=\"text-gray-400\">{renderTranslation(\"checkout.success.payment_status\")}</span>\r\n                <Badge className=\"bg-red-500/20 text-red-400 border-none font-bold py-0.5 text-[10px]\">{renderTranslation(\"checkout.success.status_success\")}</Badge>\r\n              </div>\r\n              <div className=\"pt-4 border-t border-white/5 flex justify-between items-center\">\r\n                <span className=\"text-gray-400 text-xs\">{renderTranslation(\"checkout.success.remaining_balance\")}</span>\r\n                <div className=\"text-right\">\r\n                  <p className=\"text-xl font-black text-red-500 tracking-tighter\">\r\n                    ‡∏ø{(user?.balance || 0).toLocaleString()}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"pt-4 border-t border-white/5 flex justify-between items-center\">\r\n                <span className=\"text-gray-400 text-xs\">{renderTranslation(\"nav.balance\")} (Points):</span>\r\n                <div className=\"text-right flex items-center gap-1.5\">\r\n                  <Star className=\"w-3.5 h-3.5 text-yellow-500 fill-yellow-500/20\" />\r\n                  <p className=\"text-xl font-black text-yellow-500 tracking-tighter\">\r\n                    {(user?.points || 0).toLocaleString()} <span className=\"text-[10px] uppercase\">Pts</span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-3\">\r\n            <Link href=\"/dashboard/licenses\" className=\"block\">\r\n              <Button size=\"xl\" className=\"w-full h-12 bg-red-600 hover:bg-red-500 text-white font-black rounded-xl shadow-xl shadow-red-600/40 transition-all active:scale-95 group text-sm\">\r\n                {renderTranslation(\"checkout.success.view_my_licenses\")}\r\n              </Button>\r\n            </Link>\r\n            <Link href=\"/products\" className=\"block\">\r\n              <Button size=\"xl\" className=\"w-full h-12 bg-white/5 border-white/10 hover:bg-white/10 text-white font-black rounded-xl transition-all active:scale-95 group text-sm\">\r\n                {renderTranslation(\"checkout.success.shop_more\")}\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        </Card>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function CheckoutSuccessPage() {\r\n  return (\r\n    <Suspense fallback={\r\n      <div className=\"min-h-screen pt-32 flex flex-col items-center justify-center px-4 pb-20 relative overflow-hidden\">\r\n        <div className=\"w-20 h-20 rounded-3xl bg-red-500/10 border border-red-500/20 flex items-center justify-center mb-8 shadow-inner\">\r\n          <Loader2 className=\"h-10 w-10 animate-spin text-red-500\" />\r\n        </div>\r\n      </div>\r\n    }>\r\n      <CheckoutSuccessContent />\r\n    </Suspense>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\app\\(main)\\contact\\page.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\contact\\page.tsx:96:7\n  94 |   useEffect(() => {\n  95 |     if (user) {\n> 96 |       setFormData((prev) => ({\n     |       ^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  97 |         ...prev,\n  98 |         name: user.username || prev.name,\n  99 |         email: user.email || prev.email,","line":96,"column":7,"nodeType":null,"endLine":96,"endColumn":18}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { useAuth } from \"@/hooks/useAuth\";\r\nimport {\r\n  Mail,\r\n  MessageCircle,\r\n  Phone,\r\n  MapPin,\r\n  Clock,\r\n  Send,\r\n  CheckCircle,\r\n  ArrowRight,\r\n  ExternalLink,\r\n} from \"lucide-react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Button, Card, Input, Badge } from \"@/components/ui\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport default function ContactPage() {\r\n  const { t } = useTranslation([\"home\", \"common\"]);\r\n  const { user } = useAuth();\r\n\r\n  const faqs = [\r\n    {\r\n      question: t(\"misc.faq.items.preview.q\", { defaultValue: \"‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡∏≠‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?\" }),\r\n      answer: t(\"misc.faq.items.preview.a\", { defaultValue: \"‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤‡∏ú‡πà‡∏≤‡∏ô Discord ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢\" }),\r\n    },\r\n    {\r\n      question: t(\"misc.faq.items.support.q\", { defaultValue: \"‡∏´‡∏•‡∏±‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ã‡∏±‡∏û‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÑ‡∏´‡∏°?\" }),\r\n      answer: t(\"misc.faq.items.support.a\", { defaultValue: \"‡∏°‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏ó‡∏µ‡∏°‡∏ã‡∏±‡∏û‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ï‡∏•‡∏≠‡∏î ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ü‡∏£‡∏µ‡∏ï‡∏•‡∏≠‡∏î‡∏ä‡∏µ‡∏û\" }),\r\n    },\r\n    {\r\n      question: t(\"misc.faq.items.payment.q\", { defaultValue: \"‡∏£‡∏±‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡πÑ‡∏´‡∏ô‡∏ö‡πâ‡∏≤‡∏á?\" }),\r\n      answer: t(\"misc.faq.items.payment.a\", { defaultValue: \"‡∏£‡∏±‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡∏ú‡πà‡∏≤‡∏ô‡πÇ‡∏≠‡∏ô‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£, TrueMoney Wallet, ‡πÅ‡∏•‡∏∞ PromptPay\" }),\r\n    },\r\n    {\r\n      question: t(\"misc.faq.items.commission_time.q\", { defaultValue: \"‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ Commission?\" }),\r\n      answer: t(\"misc.faq.items.commission_time.a\", { defaultValue: \"‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô ‡πÇ‡∏î‡∏¢‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ UI ‡∏á‡πà‡∏≤‡∏¢‡πÜ 3-5 ‡∏ß‡∏±‡∏ô, ‡∏á‡∏≤‡∏ô‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô 1-2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå\" }),\r\n    },\r\n    {\r\n      question: t(\"misc.faq.items.revisions.q\", { defaultValue: \"‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏Å‡∏µ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á?\" }),\r\n      answer: t(\"misc.faq.items.revisions.a\", { defaultValue: \"‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Commission ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ü‡∏£‡∏µ ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏Ñ‡∏¥‡∏î‡∏Ñ‡πà‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°\" }),\r\n    },\r\n  ];\r\n\r\n  const contactMethods = [\r\n    {\r\n      icon: MessageCircle,\r\n      title: t(\"misc.contact.methods.discord.title\"),\r\n      description: t(\"misc.contact.methods.discord.desc\"),\r\n      value: \"QR STUDIO\",\r\n      link: \"https://discord.gg/rQxc8ZNYE6\",\r\n      color: \"bg-red-500/20\",\r\n      iconColor: \"text-red-400\",\r\n      buttonText: t(\"misc.contact.methods.discord.btn\"),\r\n    },\r\n    {\r\n      icon: Mail,\r\n      title: t(\"misc.contact.methods.email.title\"),\r\n      description: t(\"misc.contact.methods.email.desc\"),\r\n      value: \"contact@qrstudio.com\",\r\n      link: \"mailto:contact@qrstudio.com\",\r\n      color: \"bg-red-500/20\",\r\n      iconColor: \"text-red-400\",\r\n      buttonText: t(\"misc.contact.methods.email.btn\"),\r\n    },\r\n    {\r\n      icon: Phone,\r\n      title: t(\"misc.contact.methods.line.title\"),\r\n      description: t(\"misc.contact.methods.line.desc\"),\r\n      value: \"@qrstudio\",\r\n      link: \"https://line.me/ti/p/@qrstudio\",\r\n      color: \"bg-red-500/20\",\r\n      iconColor: \"text-red-400\",\r\n      buttonText: t(\"misc.contact.methods.line.btn\"),\r\n    },\r\n  ];\r\n\r\n  const businessHours = [\r\n    { day: t(\"common:common.mon_fri\", { defaultValue: \"‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏®‡∏∏‡∏Å‡∏£‡πå\" }), hours: \"10:00 - 22:00\" },\r\n    { day: t(\"common:common.sat_sun\", { defaultValue: \"‡πÄ‡∏™‡∏≤‡∏£‡πå - ‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå\" }), hours: \"12:00 - 20:00\" },\r\n  ];\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    subject: \"\",\r\n    message: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        name: user.username || prev.name,\r\n        email: user.email || prev.email,\r\n      }));\r\n    }\r\n  }, [user]);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n  const [openFaq, setOpenFaq] = useState<number | null>(null);\r\n\r\n  const handleSubmit = useCallback(async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n\r\n    // Simulate form submission\r\n    await new Promise((resolve) => setTimeout(resolve, 1500));\r\n\r\n    setIsSubmitting(false);\r\n    setIsSubmitted(true);\r\n    setFormData({ name: \"\", email: \"\", subject: \"\", message: \"\" });\r\n\r\n    // Reset success message after 5 seconds\r\n    setTimeout(() => setIsSubmitted(false), 5000);\r\n  }, []);\r\n\r\n  const handleChange = useCallback((\r\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  }, []);\r\n\r\n  const toggleFaq = useCallback((index: number) => {\r\n    setOpenFaq(prev => prev === index ? null : index);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen pt-20\">\r\n      {/* Hero Section */}\r\n      <section className=\"py-24 relative overflow-hidden\">\r\n        <div className=\"absolute inset-0 bg-linear-to-br from-red-900/30 via-black to-black\" />\r\n        <div className=\"absolute inset-0 bg-[url('/grid.svg')] opacity-10\" />\r\n        <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-red-600/10 rounded-full blur-[128px] animate-pulse\" />\r\n\r\n        <div className=\"container mx-auto px-4 relative\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"text-center max-w-3xl mx-auto\"\r\n          >\r\n            <Badge className=\"mb-6 bg-red-500/10 text-red-500 border-red-500/20 px-4 py-1.5 text-sm\">\r\n              <Mail className=\"w-4 h-4 mr-2\" />\r\n              {t(\"misc.contact.hero_badge\")}\r\n            </Badge>\r\n            <h1 className=\"text-3xl md:text-5xl lg:text-6xl font-black text-white mb-6 leading-tight tracking-tighter\">\r\n              {t(\"misc.contact.title\")}\r\n              <br />\r\n              <span className=\"text-transparent bg-clip-text bg-linear-to-r from-red-500 via-red-400 to-red-700 animate-gradient\">\r\n                {t(\"misc.contact.title_highlight\")}\r\n              </span>\r\n            </h1>\r\n            <p className=\"text-gray-400 text-base leading-relaxed max-w-2xl mx-auto\">\r\n              {t(\"misc.contact.hero_desc\")}\r\n            </p>\r\n          </motion.div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Contact Methods */}\r\n      <section className=\"py-12 relative z-10 -mt-12\">\r\n        <div className=\"container mx-auto px-4\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            {contactMethods.map((method, index) => {\r\n              const Icon = method.icon;\r\n              return (\r\n                <motion.div\r\n                  key={index}\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  whileInView={{ opacity: 1, y: 0 }}\r\n                  viewport={{ once: true }}\r\n                  transition={{ delay: index * 0.1 }}\r\n                >\r\n                  <Card className=\"p-6 h-full text-center border-white/5 bg-black/40 backdrop-blur-xl hover:border-red-500/50 transition-all duration-500 group shadow-2xl\">\r\n                    <div\r\n                      className={`w-16 h-16 mx-auto rounded-3xl ${method.color} flex items-center justify-center mb-6 group-hover:scale-110 group-hover:bg-red-500/30 transition-all duration-500 border border-white/5`}\r\n                    >\r\n                      <Icon className={`w-8 h-8 ${method.iconColor}`} />\r\n                    </div>\r\n                    <h3 className=\"text-xl font-bold text-white mb-2 group-hover:text-red-400 transition-colors\">\r\n                      {method.title}\r\n                    </h3>\r\n                    <p className=\"text-gray-400 text-xs mb-4 leading-relaxed px-4\">\r\n                      {method.description}\r\n                    </p>\r\n                    <p className=\"text-white font-bold text-base mb-8 tracking-wide group-hover:text-red-200 transition-colors\">{method.value}</p>\r\n                    <Link href={method.link} target=\"_blank\" className=\"block mt-auto\">\r\n                      <Button variant=\"secondary\" className=\"w-full h-11 bg-white/5 border-white/10 hover:bg-white/10 hover:text-white group/btn text-xs rounded-xl\">\r\n                        <span>{method.buttonText}</span>\r\n                        <ExternalLink className=\"w-3.5 h-3.5 ml-2 transition-transform group-hover/btn:translate-x-1 group-hover/btn:-translate-y-1\" />\r\n                      </Button>\r\n                    </Link>\r\n                  </Card>\r\n                </motion.div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Contact Form & Info */}\r\n      <section className=\"py-12\">\r\n        <div className=\"container mx-auto\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n            {/* Contact Form */}\r\n            <motion.div\r\n              initial={{ opacity: 0, x: -20 }}\r\n              whileInView={{ opacity: 1, x: 0 }}\r\n              viewport={{ once: true }}\r\n            >\r\n              <Card className=\"p-8 md:p-10 border-white/5 bg-black/40 backdrop-blur-2xl shadow-2xl relative overflow-hidden h-full\">\r\n                <div className=\"absolute top-0 left-0 w-1 h-full bg-linear-to-b from-red-600 to-transparent\" />\r\n\r\n                <h2 className=\"text-2xl md:text-3xl font-black text-white mb-2 tracking-tight\">\r\n                  {t(\"misc.contact.form.title\")}\r\n                </h2>\r\n                <p className=\"text-gray-400 text-sm mb-8\">\r\n                  {t(\"misc.contact.form.desc\")}\r\n                </p>\r\n\r\n                {isSubmitted ? (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, scale: 0.9 }}\r\n                    animate={{ opacity: 1, scale: 1 }}\r\n                    className=\"text-center py-16\"\r\n                  >\r\n                    <div className=\"w-20 h-20 mx-auto mb-6 rounded-3xl bg-red-500/10 border border-red-500/20 flex items-center justify-center\">\r\n                      <CheckCircle className=\"w-10 h-10 text-red-400\" />\r\n                    </div>\r\n                    <h3 className=\"text-2xl font-bold text-white mb-2\">\r\n                      {t(\"misc.contact.form.success_title\")}\r\n                    </h3>\r\n                    <p className=\"text-gray-400\">\r\n                      {t(\"misc.contact.form.success_desc\")}\r\n                    </p>\r\n                    <Button\r\n                      variant=\"secondary\"\r\n                      className=\"mt-8 bg-white/5 border-white/10\"\r\n                      onClick={() => setIsSubmitted(false)}\r\n                    >\r\n                      {t(\"misc.contact.form.send_new\")}\r\n                    </Button>\r\n                  </motion.div>\r\n                ) : (\r\n                  <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                      <div className=\"space-y-2\">\r\n                        <label className=\"text-sm font-medium text-gray-300 ml-1\">\r\n                          {t(\"misc.contact.form.name\")}\r\n                        </label>\r\n                        <Input\r\n                          name=\"name\"\r\n                          value={formData.name}\r\n                          onChange={handleChange}\r\n                          placeholder={t(\"misc.contact.form.name_placeholder\")}\r\n                          className=\"bg-white/5 border-white/10 h-12 rounded-xl focus:border-red-500/50\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                      <div className=\"space-y-2\">\r\n                        <label className=\"text-sm font-medium text-gray-300 ml-1\">\r\n                          {t(\"misc.contact.form.email\")}\r\n                        </label>\r\n                        <Input\r\n                          name=\"email\"\r\n                          type=\"email\"\r\n                          value={formData.email}\r\n                          onChange={handleChange}\r\n                          placeholder={t(\"misc.contact.form.email_placeholder\")}\r\n                          className=\"bg-white/5 border-white/10 h-12 rounded-xl focus:border-red-500/50\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"text-sm font-medium text-gray-300 ml-1\">\r\n                        {t(\"misc.contact.form.subject\")}\r\n                      </label>\r\n                      <Input\r\n                        name=\"subject\"\r\n                        value={formData.subject}\r\n                        onChange={handleChange}\r\n                        placeholder={t(\"misc.contact.form.subject_placeholder\")}\r\n                        className=\"bg-white/5 border-white/10 h-12 rounded-xl focus:border-red-500/50\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"text-sm font-medium text-gray-300 ml-1\">\r\n                        {t(\"misc.contact.form.message\")}\r\n                      </label>\r\n                      <textarea\r\n                        name=\"message\"\r\n                        value={formData.message}\r\n                        onChange={handleChange}\r\n                        placeholder={t(\"misc.contact.form.message_placeholder\")}\r\n                        rows={6}\r\n                        required\r\n                        className=\"w-full px-4 py-4 rounded-xl bg-white/5 border border-white/10 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500/50 transition-all resize-none\"\r\n                      />\r\n                    </div>\r\n                    <Button\r\n                      type=\"submit\"\r\n                      size=\"xl\"\r\n                      className=\"w-full bg-red-600 hover:bg-red-500 text-white font-black h-12 shadow-xl shadow-red-600/20 rounded-xl group text-sm\"\r\n                      disabled={isSubmitting}\r\n                    >\r\n                      {isSubmitting ? (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\r\n                          <span>{t(\"misc.contact.form.submitting\")}</span>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <span>{t(\"misc.contact.form.submit\")}</span>\r\n                          <Send className=\"w-5 h-5 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform\" />\r\n                        </div>\r\n                      )}\r\n                    </Button>\r\n                  </form>\r\n                )}\r\n              </Card>\r\n            </motion.div>\r\n\r\n            {/* Info */}\r\n            <motion.div\r\n              initial={{ opacity: 0, x: 20 }}\r\n              whileInView={{ opacity: 1, x: 0 }}\r\n              viewport={{ once: true }}\r\n              className=\"space-y-6\"\r\n            >\r\n              {/* Business Hours */}\r\n              <Card className=\"p-6 border-white/5 bg-black/40 backdrop-blur-xl hover:border-red-500/30 transition-all duration-500 shadow-2xl\">\r\n                <div className=\"flex items-center gap-4 mb-6\">\r\n                  <div className=\"w-10 h-10 rounded-2xl bg-red-500/10 border border-red-500/20 flex items-center justify-center\">\r\n                    <Clock className=\"w-5 h-5 text-red-500\" />\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-lg font-bold text-white\">\r\n                      {t(\"misc.contact.info.hours_title\")}\r\n                    </h3>\r\n                    <p className=\"text-[10px] text-gray-500 uppercase tracking-widest\">{t(\"misc.contact.info.hours_badge\")}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"space-y-4\">\r\n                  {businessHours.map((item, index) => (\r\n                    <div\r\n                      key={index}\r\n                      className=\"flex items-center justify-between py-3 border-b border-white/5 last:border-0 group\"\r\n                    >\r\n                      <span className=\"text-gray-400 group-hover:text-gray-300 transition-colors\">{item.day}</span>\r\n                      <span className=\"text-white font-bold bg-white/5 px-3 py-1 rounded-lg border border-white/5 group-hover:border-red-500/30 transition-all\">{item.hours}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"mt-8 p-4 rounded-xl bg-red-500/5 border border-red-500/10\">\r\n                  <p className=\"text-xs text-red-400/80 leading-relaxed\">\r\n                    {t(\"misc.contact.info.hours_hint\")}\r\n                  </p>\r\n                </div>\r\n              </Card>\r\n\r\n              {/* Location */}\r\n              <Card className=\"p-6 border-white/5 bg-black/40 backdrop-blur-xl hover:border-red-500/30 transition-all duration-500 shadow-2xl\">\r\n                <div className=\"flex items-center gap-4 mb-6\">\r\n                  <div className=\"w-10 h-10 rounded-2xl bg-red-500/10 border border-red-500/20 flex items-center justify-center\">\r\n                    <MapPin className=\"w-5 h-5 text-red-500\" />\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-lg font-bold text-white\">{t(\"misc.contact.info.location_title\")}</h3>\r\n                    <p className=\"text-[10px] text-gray-500 uppercase tracking-widest\">{t(\"misc.contact.info.location_badge\")}</p>\r\n                  </div>\r\n                </div>\r\n                <p className=\"text-gray-400 text-sm leading-relaxed\">\r\n                  {t(\"misc.contact.info.location_desc\")}\r\n                </p>\r\n              </Card>\r\n\r\n              {/* Quick Links */}\r\n              <Card className=\"p-6 border-white/5 bg-black/40 backdrop-blur-xl hover:border-red-500/30 transition-all duration-500 shadow-2xl\">\r\n                <h3 className=\"text-lg font-bold text-white mb-6 flex items-center gap-2\">\r\n                  <div className=\"w-1.5 h-5 bg-red-600 rounded-full\" />\r\n                  {t(\"misc.contact.info.links_title\")}\r\n                </h3>\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                  <Link href=\"/products\">\r\n                    <Button variant=\"secondary\" className=\"w-full justify-start h-11 bg-white/5 border-white/10 hover:bg-red-600/10 hover:border-red-500/30 group text-xs rounded-xl\">\r\n                      <ArrowRight className=\"w-3.5 h-3.5 mr-2 text-red-500 group-hover:translate-x-1 transition-transform\" />\r\n                      {t(\"common:dashboard.menu.orders\")}\r\n                    </Button>\r\n                  </Link>\r\n                  <Link href=\"/commission\">\r\n                    <Button variant=\"secondary\" className=\"w-full justify-start h-11 bg-white/5 border-white/10 hover:bg-red-600/10 hover:border-red-500/30 group text-xs rounded-xl\">\r\n                      <ArrowRight className=\"w-3.5 h-3.5 mr-2 text-red-500 group-hover:translate-x-1 transition-transform\" />\r\n                      {t(\"common:nav.ui_service\")}\r\n                    </Button>\r\n                  </Link>\r\n                  <Link href=\"/web-design\">\r\n                    <Button variant=\"secondary\" className=\"w-full justify-start h-11 bg-white/5 border-white/10 hover:bg-red-600/10 hover:border-red-500/30 group text-xs rounded-xl\">\r\n                      <ArrowRight className=\"w-3.5 h-3.5 mr-2 text-red-500 group-hover:translate-x-1 transition-transform\" />\r\n                      {t(\"common:nav.web_service\")}\r\n                    </Button>\r\n                  </Link>\r\n                  <Link href=\"/dashboard\">\r\n                    <Button variant=\"secondary\" className=\"w-full justify-start h-11 bg-white/5 border-white/10 hover:bg-red-600/10 hover:border-red-500/30 group text-xs rounded-xl\">\r\n                      <ArrowRight className=\"w-3.5 h-3.5 mr-2 text-red-500 group-hover:translate-x-1 transition-transform\" />\r\n                      {t(\"common:nav.dashboard\")}\r\n                    </Button>\r\n                  </Link>\r\n                </div>\r\n              </Card>\r\n            </motion.div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* FAQ Section */}\r\n      <section className=\"py-24 relative overflow-hidden\">\r\n        <div className=\"absolute top-1/2 left-0 w-72 h-72 bg-red-600/5 rounded-full blur-[100px]\" />\r\n        <div className=\"container mx-auto px-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ once: true }}\r\n            className=\"text-center mb-16\"\r\n          >\r\n            <h2 className=\"text-2xl md:text-3xl font-black text-white mb-3 tracking-tight\">\r\n              {t(\"misc.faq.subtitle\")}\r\n            </h2>\r\n            <p className=\"text-gray-400 text-sm max-w-2xl mx-auto\">\r\n              {t(\"misc.faq.desc\")}\r\n            </p>\r\n          </motion.div>\r\n\r\n          <div className=\"max-w-3xl mx-auto space-y-4 relative z-10\">\r\n            {faqs.map((faq, index) => (\r\n              <motion.div\r\n                key={index}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                whileInView={{ opacity: 1, y: 0 }}\r\n                viewport={{ once: true }}\r\n                transition={{ delay: index * 0.1 }}\r\n              >\r\n                <Card\r\n                  className={cn(\r\n                    \"overflow-hidden cursor-pointer transition-all duration-300 border-white/5 bg-white/2 hover:border-red-500/30\",\r\n                    openFaq === index ? \"border-red-500/50 bg-red-500/5 ring-1 ring-red-500/10\" : \"\"\r\n                  )}\r\n                  onClick={() => toggleFaq(index)}\r\n                >\r\n                  <div className=\"p-6 flex items-center justify-between gap-4\">\r\n                    <h3 className={cn(\r\n                      \"font-bold transition-colors\",\r\n                      openFaq === index ? \"text-red-400\" : \"text-white\"\r\n                    )}>\r\n                      {faq.question}\r\n                    </h3>\r\n                    <div\r\n                      className={cn(\r\n                        \"w-8 h-8 rounded-xl bg-white/5 flex items-center justify-center transition-all duration-300\",\r\n                        openFaq === index ? \"rotate-45 bg-red-500 text-white\" : \"text-gray-400\"\r\n                      )}\r\n                    >\r\n                      <span className=\"text-xl leading-none\">+</span>\r\n                    </div>\r\n                  </div>\r\n                  <AnimatePresence>\r\n                    {openFaq === index && (\r\n                      <motion.div\r\n                        initial={{ opacity: 0, height: 0 }}\r\n                        animate={{ opacity: 1, height: \"auto\" }}\r\n                        exit={{ opacity: 0, height: 0 }}\r\n                        transition={{ duration: 0.3, ease: \"easeInOut\" }}\r\n                      >\r\n                        <div className=\"px-6 pb-6 pt-2 border-t border-white/5 mt-2\">\r\n                          <p className=\"text-gray-400 leading-relaxed\">{faq.answer}</p>\r\n                        </div>\r\n                      </motion.div>\r\n                    )}\r\n                  </AnimatePresence>\r\n                </Card>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* CTA */}\r\n      <section className=\"py-24\">\r\n        <div className=\"container mx-auto px-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ once: true }}\r\n          >\r\n            <Card className=\"p-10 md:p-16 text-center relative overflow-hidden border-white/5 bg-black/40 backdrop-blur-2xl shadow-2xl\">\r\n              <div className=\"absolute inset-0 bg-linear-to-r from-red-600/10 to-transparent\" />\r\n              <div className=\"relative z-10\">\r\n                <h2 className=\"text-2xl md:text-4xl font-black text-white mb-6 leading-tight tracking-tight\">\r\n                  {t(\"misc.faq.no_answer_title\")}\r\n                </h2>\r\n                <p className=\"text-gray-400 max-w-xl mx-auto mb-10 text-base leading-relaxed\">\r\n                  {t(\"misc.faq.no_answer_desc\")}\r\n                </p>\r\n                <div className=\"flex flex-wrap justify-center gap-4\">\r\n                  <Link href=\"https://discord.gg/rQxc8ZNYE6\" target=\"_blank\">\r\n                    <Button size=\"xl\" className=\"group bg-red-600 hover:bg-red-500 text-white font-black h-12 px-8 rounded-xl shadow-xl shadow-red-600/20 text-sm\">\r\n                      <MessageCircle className=\"w-4 h-4 mr-2\" />\r\n                      {t(\"misc.faq.join_discord\")}\r\n                      <ArrowRight className=\"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1\" />\r\n                    </Button>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          </motion.div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\app\\(main)\\dashboard\\wishlist\\page.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: This value cannot be modified\n\nModifying a variable defined outside a component or hook is not allowed. Consider using an effect.\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\dashboard\\wishlist\\page.tsx:99:7\n   97 |   if (!user && !authLoading && !getAuthToken()) {\n   98 |     if (typeof window !== 'undefined') {\n>  99 |       window.location.href = `/auth/login?callbackUrl=${encodeURIComponent(window.location.pathname)}`;\n      |       ^^^^^^^^^^^^^^^ value cannot be modified\n  100 |     }\n  101 |     return null;\n  102 |   }","line":99,"column":7,"nodeType":null,"endLine":99,"endColumn":22}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState, useCallback } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Heart, ShoppingCart, Trash2, ArrowRight, Loader2, ImageOff } from \"lucide-react\";\r\nimport { Button, Card } from \"@/components/ui\";\r\nimport { WishlistSkeleton } from \"@/components/dashboard/wishlist-skeleton\";\r\nimport { useWishlistStore } from \"@/store/wishlist\";\r\nimport { useCartStore } from \"@/store/cart\";\r\nimport { useAuth } from \"@/hooks/useAuth\";\r\nimport { getAuthToken } from \"@/lib/auth-helper\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { cn, formatPrice } from \"@/lib/utils\";\r\nimport type { ProductCategory } from \"@/types\";\r\n\r\nexport default function WishlistPage() {\r\n  const { t } = useTranslation(\"common\");\r\n  const { user, loading: authLoading, isSynced } = useAuth();\r\n  const { items, loading: wishlistLoading, fetchWishlist, removeItem, clearWishlist } = useWishlistStore();\r\n  const addToCart = useCartStore((state) => state.addItem);\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  const renderTranslation = (key: string, options?: any): string => {\r\n    if (!mounted) return \"\";\r\n    const result = t(key, options);\r\n    return typeof result === \"string\" ? result : key;\r\n  };\r\n\r\n  const handleAddToCart = useCallback((item: any) => {\r\n    addToCart({\r\n      id: item.id,\r\n      name: item.name,\r\n      price: item.price,\r\n      images: item.image ? [item.image] : [],\r\n      description: item.description || \"\",\r\n      category: (item.category as ProductCategory) || \"SCRIPT\",\r\n      isFlashSale: item.isFlashSale,\r\n      flashSalePrice: item.flashSalePrice,\r\n      flashSaleEnds: item.flashSaleEnds,\r\n      rating: 0,\r\n      reviewCount: 0,\r\n      features: [],\r\n      tags: [],\r\n      stock: item.stock,\r\n      isActive: true,\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n    });\r\n  }, [addToCart]);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n\r\n    async function initWishlist() {\r\n      const token = getAuthToken();\r\n\r\n      // If auth is still working, wait for it\r\n      if (!isSynced && !user?.id && token) return;\r\n\r\n      // If we have a user or at least a token, fetch the wishlist\r\n      if (user?.id || token) {\r\n        await fetchWishlist();\r\n      }\r\n    }\r\n\r\n    initWishlist();\r\n  }, [user?.id, isSynced, fetchWishlist]);\r\n\r\n  // Use optimistic loading check\r\n  const isAuthInitializing = !isSynced && !user?.id && !!getAuthToken();\r\n  const isLoading = (authLoading || isAuthInitializing || (wishlistLoading && items.length === 0) || !mounted) && !user;\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen pt-32\">\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n          <div className=\"flex items-center justify-between mb-8\">\r\n            <div className=\"space-y-2\">\r\n              <h1 className=\"text-3xl font-bold text-white mb-2\">{renderTranslation(\"nav.wishlist\")}</h1>\r\n              <p className=\"text-gray-400\">{renderTranslation(\"common.loading\")}</p>\r\n            </div>\r\n            <Button variant=\"secondary\" disabled>\r\n              <Trash2 className=\"w-4 h-4\" />\r\n              {renderTranslation(\"common.delete\")}\r\n            </Button>\r\n          </div>\r\n\r\n          <WishlistSkeleton />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Robust redirect logic\r\n  if (!user && !authLoading && !getAuthToken()) {\r\n    if (typeof window !== 'undefined') {\r\n      window.location.href = `/auth/login?callbackUrl=${encodeURIComponent(window.location.pathname)}`;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  if (items.length === 0) {\r\n    return (\r\n      <div className=\"min-h-screen pt-32 flex items-center justify-center\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"text-center\"\r\n        >\r\n          <div className=\"w-24 h-24 mx-auto mb-6 rounded-2xl bg-white/5 flex items-center justify-center\">\r\n            <Heart className=\"w-12 h-12 text-gray-600\" />\r\n          </div>\r\n          <h1 className=\"text-2xl font-bold text-white mb-2\">\r\n            {renderTranslation(\"dashboard.wishlist.empty_title\")}\r\n          </h1>\r\n          <p className=\"text-gray-400 mb-6\">\r\n            {renderTranslation(\"dashboard.wishlist.empty_desc\")}\r\n          </p>\r\n          <Link href=\"/products\">\r\n            <Button>\r\n              <ShoppingCart className=\"w-5 h-5\" />\r\n              {renderTranslation(\"dashboard.wishlist.shop_now\")}\r\n            </Button>\r\n          </Link>\r\n        </motion.div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen pt-32\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        {/* Header */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"flex items-center justify-between mb-8\"\r\n        >\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-white mb-2\">{renderTranslation(\"nav.wishlist\")}</h1>\r\n            <p className=\"text-gray-400\">\r\n              {renderTranslation(\"dashboard.wishlist.items_count\", { count: items.length })}\r\n            </p>\r\n          </div>\r\n          <Button variant=\"secondary\" onClick={clearWishlist}>\r\n            <Trash2 className=\"w-4 h-4\" />\r\n            {renderTranslation(\"dashboard.wishlist.clear_all\")}\r\n          </Button>\r\n        </motion.div>\r\n\r\n        {/* Wishlist Grid */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n          <AnimatePresence mode=\"popLayout\">\r\n            {items.map((item, index) => (\r\n              <motion.div\r\n                key={item.id}\r\n                layout\r\n                initial={{ opacity: 0, scale: 0.9 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.9 }}\r\n                transition={{ delay: index * 0.05 }}\r\n              >\r\n                <Card className=\"group overflow-hidden border-white/5 hover:border-red-500/50 bg-white/5 transition-all duration-300\">\r\n                  <div className=\"relative aspect-video\">\r\n                    {item.image ? (\r\n                      <Image\r\n                        src={item.image}\r\n                        alt={item.name}\r\n                        fill\r\n                        className=\"object-cover transition-transform duration-500 group-hover:scale-105\"\r\n                      />\r\n                    ) : (\r\n                      <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-white/5\">\r\n                        <ImageOff className=\"w-10 h-10 text-gray-600 mb-2\" />\r\n                        <span className=\"text-[10px] font-black uppercase tracking-widest text-gray-600\">No Image</span>\r\n                      </div>\r\n                    )}\r\n                    <div className=\"absolute inset-0 bg-linear-to-t from-black/90 via-black/20 to-transparent\" />\r\n\r\n                    {/* Remove Button */}\r\n                    <button\r\n                      onClick={() => removeItem(item.id)}\r\n                      className=\"absolute top-3 right-3 w-8 h-8 rounded-full bg-black/50 hover:bg-red-500 flex items-center justify-center transition-colors\"\r\n                    >\r\n                      <Trash2 className=\"w-4 h-4 text-white\" />\r\n                    </button>\r\n\r\n                    {/* Category */}\r\n                    <div className=\"absolute bottom-3 left-3\">\r\n                      <span className=\"px-2 py-1 rounded-lg bg-white/10 backdrop-blur-sm text-xs text-white\">\r\n                        {item.category}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"p-4 space-y-3\">\r\n                    <Link href={`/products/${item.id}`}>\r\n                      <h3 className=\"font-semibold text-white group-hover:text-red-400 transition-colors line-clamp-1\">\r\n                        {item.name}\r\n                      </h3>\r\n                    </Link>\r\n\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <span className=\"text-lg font-bold text-red-400\">\r\n                        {formatPrice(item.price)}\r\n                      </span>\r\n                      <Button\r\n                        size=\"sm\"\r\n                        onClick={() => handleAddToCart(item)}\r\n                      >\r\n                        <ShoppingCart className=\"w-4 h-4\" />\r\n                        {renderTranslation(\"products.detail.add_to_cart_btn\")}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n              </motion.div>\r\n            ))}\r\n          </AnimatePresence>\r\n        </div>\r\n\r\n        {/* Continue Shopping */}\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ delay: 0.3 }}\r\n          className=\"text-center mt-12\"\r\n        >\r\n          <Link href=\"/products\">\r\n            <Button variant=\"secondary\" size=\"lg\" className=\"group\">\r\n              {renderTranslation(\"cart.continue_shopping\")}\r\n              <ArrowRight className=\"w-5 h-5 transition-transform group-hover:translate-x-1\" />\r\n            </Button>\r\n          </Link>\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\app\\(main)\\payment-guide\\page.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\payment-guide\\page.tsx:15:5\n  13 |\n  14 |   useEffect(() => {\n> 15 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  16 |   }, []);\n  17 |\n  18 |   const renderTranslation = (key: string, options?: any): string => {","line":15,"column":5,"nodeType":null,"endLine":15,"endColumn":15},{"ruleId":"react-hooks/preserve-manual-memoization","severity":2,"message":"Compilation Skipped: Existing memoization could not be preserved\n\nReact Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderTranslation`, but the source dependencies were [mounted, t]. Inferred different dependency than source.\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\payment-guide\\page.tsx:24:25\n  22 |   };\n  23 |\n> 24 |   const steps = useMemo(() => [\n     |                         ^^^^^^^\n> 25 |     {\n     | ^^^^^\n> 26 |       title: renderTranslation(\"payment_guide.steps.step1.title\"),\n     ‚Ä¶\n     | ^^^^^\n> 44 |     },\n     | ^^^^^\n> 45 |   ], [mounted, t]);\n     | ^^^^ Could not preserve existing manual memoization\n  46 |\n  47 |   const paymentMethods = useMemo(() => [\n  48 |     {","line":24,"column":25,"nodeType":null,"endLine":45,"endColumn":4},{"ruleId":"react-hooks/preserve-manual-memoization","severity":2,"message":"Compilation Skipped: Existing memoization could not be preserved\n\nReact Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderTranslation`, but the source dependencies were [mounted, t]. Inferred different dependency than source.\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\payment-guide\\page.tsx:24:25\n  22 |   };\n  23 |\n> 24 |   const steps = useMemo(() => [\n     |                         ^^^^^^^\n> 25 |     {\n     | ^^^^^\n> 26 |       title: renderTranslation(\"payment_guide.steps.step1.title\"),\n     ‚Ä¶\n     | ^^^^^\n> 44 |     },\n     | ^^^^^\n> 45 |   ], [mounted, t]);\n     | ^^^^ Could not preserve existing manual memoization\n  46 |\n  47 |   const paymentMethods = useMemo(() => [\n  48 |     {","line":24,"column":25,"nodeType":null,"endLine":45,"endColumn":4},{"ruleId":"react-hooks/preserve-manual-memoization","severity":2,"message":"Compilation Skipped: Existing memoization could not be preserved\n\nReact Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderTranslation`, but the source dependencies were [mounted, t]. Inferred different dependency than source.\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\payment-guide\\page.tsx:24:25\n  22 |   };\n  23 |\n> 24 |   const steps = useMemo(() => [\n     |                         ^^^^^^^\n> 25 |     {\n     | ^^^^^\n> 26 |       title: renderTranslation(\"payment_guide.steps.step1.title\"),\n     ‚Ä¶\n     | ^^^^^\n> 44 |     },\n     | ^^^^^\n> 45 |   ], [mounted, t]);\n     | ^^^^ Could not preserve existing manual memoization\n  46 |\n  47 |   const paymentMethods = useMemo(() => [\n  48 |     {","line":24,"column":25,"nodeType":null,"endLine":45,"endColumn":4},{"ruleId":"react-hooks/preserve-manual-memoization","severity":2,"message":"Compilation Skipped: Existing memoization could not be preserved\n\nReact Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderTranslation`, but the source dependencies were [mounted, t]. Inferred different dependency than source.\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\payment-guide\\page.tsx:24:25\n  22 |   };\n  23 |\n> 24 |   const steps = useMemo(() => [\n     |                         ^^^^^^^\n> 25 |     {\n     | ^^^^^\n> 26 |       title: renderTranslation(\"payment_guide.steps.step1.title\"),\n     ‚Ä¶\n     | ^^^^^\n> 44 |     },\n     | ^^^^^\n> 45 |   ], [mounted, t]);\n     | ^^^^ Could not preserve existing manual memoization\n  46 |\n  47 |   const paymentMethods = useMemo(() => [\n  48 |     {","line":24,"column":25,"nodeType":null,"endLine":45,"endColumn":4},{"ruleId":"react-hooks/preserve-manual-memoization","severity":2,"message":"Compilation Skipped: Existing memoization could not be preserved\n\nReact Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderTranslation`, but the source dependencies were [mounted, t]. Inferred different dependency than source.\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\payment-guide\\page.tsx:24:25\n  22 |   };\n  23 |\n> 24 |   const steps = useMemo(() => [\n     |                         ^^^^^^^\n> 25 |     {\n     | ^^^^^\n> 26 |       title: renderTranslation(\"payment_guide.steps.step1.title\"),\n     ‚Ä¶\n     | ^^^^^\n> 44 |     },\n     | ^^^^^\n> 45 |   ], [mounted, t]);\n     | ^^^^ Could not preserve existing manual memoization\n  46 |\n  47 |   const paymentMethods = useMemo(() => [\n  48 |     {","line":24,"column":25,"nodeType":null,"endLine":45,"endColumn":4},{"ruleId":"react-hooks/preserve-manual-memoization","severity":2,"message":"Compilation Skipped: Existing memoization could not be preserved\n\nReact Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderTranslation`, but the source dependencies were [mounted, t]. Inferred different dependency than source.\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\payment-guide\\page.tsx:24:25\n  22 |   };\n  23 |\n> 24 |   const steps = useMemo(() => [\n     |                         ^^^^^^^\n> 25 |     {\n     | ^^^^^\n> 26 |       title: renderTranslation(\"payment_guide.steps.step1.title\"),\n     ‚Ä¶\n     | ^^^^^\n> 44 |     },\n     | ^^^^^\n> 45 |   ], [mounted, t]);\n     | ^^^^ Could not preserve existing manual memoization\n  46 |\n  47 |   const paymentMethods = useMemo(() => [\n  48 |     {","line":24,"column":25,"nodeType":null,"endLine":45,"endColumn":4},{"ruleId":"react-hooks/preserve-manual-memoization","severity":2,"message":"Compilation Skipped: Existing memoization could not be preserved\n\nReact Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderTranslation`, but the source dependencies were [mounted, t]. Inferred different dependency than source.\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\payment-guide\\page.tsx:24:25\n  22 |   };\n  23 |\n> 24 |   const steps = useMemo(() => [\n     |                         ^^^^^^^\n> 25 |     {\n     | ^^^^^\n> 26 |       title: renderTranslation(\"payment_guide.steps.step1.title\"),\n     ‚Ä¶\n     | ^^^^^\n> 44 |     },\n     | ^^^^^\n> 45 |   ], [mounted, t]);\n     | ^^^^ Could not preserve existing manual memoization\n  46 |\n  47 |   const paymentMethods = useMemo(() => [\n  48 |     {","line":24,"column":25,"nodeType":null,"endLine":45,"endColumn":4},{"ruleId":"react-hooks/preserve-manual-memoization","severity":2,"message":"Compilation Skipped: Existing memoization could not be preserved\n\nReact Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderTranslation`, but the source dependencies were [mounted, t]. Inferred different dependency than source.\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\payment-guide\\page.tsx:24:25\n  22 |   };\n  23 |\n> 24 |   const steps = useMemo(() => [\n     |                         ^^^^^^^\n> 25 |     {\n     | ^^^^^\n> 26 |       title: renderTranslation(\"payment_guide.steps.step1.title\"),\n     ‚Ä¶\n     | ^^^^^\n> 44 |     },\n     | ^^^^^\n> 45 |   ], [mounted, t]);\n     | ^^^^ Could not preserve existing manual memoization\n  46 |\n  47 |   const paymentMethods = useMemo(() => [\n  48 |     {","line":24,"column":25,"nodeType":null,"endLine":45,"endColumn":4},{"ruleId":"react-hooks/preserve-manual-memoization","severity":2,"message":"Compilation Skipped: Existing memoization could not be preserved\n\nReact Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderTranslation`, but the source dependencies were [mounted, t]. Inferred different dependency than source.\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\payment-guide\\page.tsx:47:34\n  45 |   ], [mounted, t]);\n  46 |\n> 47 |   const paymentMethods = useMemo(() => [\n     |                                  ^^^^^^^\n> 48 |     {\n     | ^^^^^\n> 49 |       name: \"Stripe / Credit Card\",\n     ‚Ä¶\n     | ^^^^^\n> 62 |     },\n     | ^^^^^\n> 63 |   ], [mounted, t]);\n     | ^^^^ Could not preserve existing manual memoization\n  64 |   return (\n  65 |     <div className=\"min-h-screen pt-24 relative overflow-hidden\">\n  66 |       <div className=\"absolute inset-0 bg-linear-to-br from-red-900/10 via-black to-black pointer-events-none\" />","line":47,"column":34,"nodeType":null,"endLine":63,"endColumn":4},{"ruleId":"react-hooks/preserve-manual-memoization","severity":2,"message":"Compilation Skipped: Existing memoization could not be preserved\n\nReact Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderTranslation`, but the source dependencies were [mounted, t]. Inferred different dependency than source.\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\payment-guide\\page.tsx:47:34\n  45 |   ], [mounted, t]);\n  46 |\n> 47 |   const paymentMethods = useMemo(() => [\n     |                                  ^^^^^^^\n> 48 |     {\n     | ^^^^^\n> 49 |       name: \"Stripe / Credit Card\",\n     ‚Ä¶\n     | ^^^^^\n> 62 |     },\n     | ^^^^^\n> 63 |   ], [mounted, t]);\n     | ^^^^ Could not preserve existing manual memoization\n  64 |   return (\n  65 |     <div className=\"min-h-screen pt-24 relative overflow-hidden\">\n  66 |       <div className=\"absolute inset-0 bg-linear-to-br from-red-900/10 via-black to-black pointer-events-none\" />","line":47,"column":34,"nodeType":null,"endLine":63,"endColumn":4},{"ruleId":"react-hooks/preserve-manual-memoization","severity":2,"message":"Compilation Skipped: Existing memoization could not be preserved\n\nReact Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderTranslation`, but the source dependencies were [mounted, t]. Inferred different dependency than source.\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\payment-guide\\page.tsx:47:34\n  45 |   ], [mounted, t]);\n  46 |\n> 47 |   const paymentMethods = useMemo(() => [\n     |                                  ^^^^^^^\n> 48 |     {\n     | ^^^^^\n> 49 |       name: \"Stripe / Credit Card\",\n     ‚Ä¶\n     | ^^^^^\n> 62 |     },\n     | ^^^^^\n> 63 |   ], [mounted, t]);\n     | ^^^^ Could not preserve existing manual memoization\n  64 |   return (\n  65 |     <div className=\"min-h-screen pt-24 relative overflow-hidden\">\n  66 |       <div className=\"absolute inset-0 bg-linear-to-br from-red-900/10 via-black to-black pointer-events-none\" />","line":47,"column":34,"nodeType":null,"endLine":63,"endColumn":4}],"suppressedMessages":[],"errorCount":12,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport Link from \"next/link\";\r\nimport { ArrowLeft, CreditCard, Smartphone, Wallet, CheckCircle2, ShieldCheck, Zap } from \"lucide-react\";\r\nimport { Card, Button } from \"@/components/ui\";\r\nimport { useTranslation, Trans } from \"react-i18next\";\r\nimport { useMemo, useState, useEffect } from \"react\";\r\n\r\nexport default function PaymentGuidePage() {\r\n  const { t } = useTranslation(\"common\");\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const renderTranslation = (key: string, options?: any): string => {\r\n    if (!mounted) return \"\";\r\n    const result = t(key, options);\r\n    return typeof result === \"string\" ? result : key;\r\n  };\r\n\r\n  const steps = useMemo(() => [\r\n    {\r\n      title: renderTranslation(\"payment_guide.steps.step1.title\"),\r\n      content: renderTranslation(\"payment_guide.steps.step1.content\"),\r\n      icon: Zap,\r\n    },\r\n    {\r\n      title: renderTranslation(\"payment_guide.steps.step2.title\"),\r\n      content: renderTranslation(\"payment_guide.steps.step2.content\"),\r\n      icon: CheckCircle2,\r\n    },\r\n    {\r\n      title: renderTranslation(\"payment_guide.steps.step3.title\"),\r\n      content: renderTranslation(\"payment_guide.steps.step3.content\"),\r\n      icon: Wallet,\r\n    },\r\n    {\r\n      title: renderTranslation(\"payment_guide.steps.step4.title\"),\r\n      content: renderTranslation(\"payment_guide.steps.step4.content\"),\r\n      icon: ShieldCheck,\r\n    },\r\n  ], [mounted, t]);\r\n\r\n  const paymentMethods = useMemo(() => [\r\n    {\r\n      name: \"Stripe / Credit Card\",\r\n      desc: renderTranslation(\"checkout.pay_with_stripe\"),\r\n      icon: CreditCard,\r\n    },\r\n    {\r\n      name: \"PromptPay QR Code\",\r\n      desc: renderTranslation(\"payment_guide.steps.step3.content\"),\r\n      icon: Smartphone,\r\n    },\r\n    {\r\n      name: \"Account Balance\",\r\n      desc: renderTranslation(\"checkout.pay_with_balance\"),\r\n      icon: Wallet,\r\n    },\r\n  ], [mounted, t]);\r\n  return (\r\n    <div className=\"min-h-screen pt-24 relative overflow-hidden\">\r\n      <div className=\"absolute inset-0 bg-linear-to-br from-red-900/10 via-black to-black pointer-events-none\" />\r\n      \r\n      <div className=\"container mx-auto px-4 py-8 max-w-4xl relative z-10\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"mb-12\"\r\n        >\r\n          <Link\r\n            href=\"/\"\r\n            className=\"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-6 group\"\r\n          >\r\n            <ArrowLeft className=\"w-4 h-4 transition-transform group-hover:-translate-x-1\" />\r\n            {renderTranslation(\"payment_guide.back\")}\r\n          </Link>\r\n          <div className=\"flex items-center gap-6\">\r\n            <div className=\"w-16 h-16 rounded-2xl bg-red-500/10 border border-red-500/20 flex items-center justify-center shadow-xl\">\r\n              <CreditCard className=\"w-8 h-8 text-red-500\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-4xl font-black text-white tracking-tight uppercase\">{renderTranslation(\"payment_guide.title\")}</h1>\r\n              <p className=\"text-gray-500 text-sm mt-1 uppercase tracking-widest font-bold\">{renderTranslation(\"payment_guide.desc\")}</p>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        <div className=\"space-y-8\">\r\n          {/* Steps */}\r\n          <section className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            {steps.map((step, index) => (\r\n              <motion.div\r\n                key={index}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                whileInView={{ opacity: 1, y: 0 }}\r\n                viewport={{ once: true }}\r\n                transition={{ delay: index * 0.1 }}\r\n              >\r\n                <Card className=\"p-8 border-white/5 bg-black/40 backdrop-blur-xl h-full hover:border-red-500/30 transition-all group relative overflow-hidden\">\r\n                  <div className=\"absolute top-0 left-0 w-1 h-full bg-red-600 opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                  <step.icon className=\"w-10 h-10 text-red-500 mb-6 group-hover:scale-110 transition-transform\" />\r\n                  <h3 className=\"text-xl font-black text-white mb-4 uppercase tracking-tight\">{step.title}</h3>\r\n                  <p className=\"text-gray-400 leading-relaxed\">{step.content}</p>\r\n                </Card>\r\n              </motion.div>\r\n            ))}\r\n          </section>\r\n\r\n          {/* Payment Methods */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ once: true }}\r\n          >\r\n            <Card className=\"p-8 md:p-12 border-white/5 bg-black/40 backdrop-blur-xl shadow-2xl relative overflow-hidden\">\r\n              <div className=\"absolute top-0 left-0 w-full h-1 bg-linear-to-r from-red-600 via-red-500 to-transparent\" />\r\n              <h2 className=\"text-2xl font-black text-white mb-10 uppercase tracking-tight flex items-center gap-3\">\r\n                <span className=\"w-1.5 h-8 bg-red-600 rounded-full\" />\r\n                {renderTranslation(\"payment_guide.methods_title\")}\r\n              </h2>\r\n\r\n              <div className=\"grid grid-cols-1 gap-6\">\r\n                {paymentMethods.map((method, index) => (\r\n                  <div key={index} className=\"flex items-center gap-6 p-6 rounded-2xl bg-white/5 border border-white/5 hover:border-red-500/20 transition-all group\">\r\n                    <div className=\"w-14 h-14 rounded-xl bg-red-500/10 flex items-center justify-center border border-red-500/20 group-hover:bg-red-500/20 transition-colors\">\r\n                      <method.icon className=\"w-7 h-7 text-red-500\" />\r\n                    </div>\r\n                    <div>\r\n                      <h4 className=\"text-lg font-bold text-white mb-1\">{method.name}</h4>\r\n                      <p className=\"text-gray-400 text-sm leading-relaxed\">{method.desc}</p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              <div className=\"mt-12 p-6 rounded-2xl bg-red-500/5 border border-red-500/10 text-center\">\r\n                <p className=\"text-gray-400 text-sm\">\r\n                  <Trans\r\n                    i18nKey=\"payment_guide.support_msg\"\r\n                    components={[<Link key=\"0\" href=\"/contact\" className=\"text-red-400 font-bold hover:underline ml-1\" />]}\r\n                  />\r\n                </p>\r\n              </div>\r\n            </Card>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\app\\(main)\\products\\[id]\\ProductDetail.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\products\\[id]\\ProductDetail.tsx:96:5\n  94 |\n  95 |   useEffect(() => {\n> 96 |     setIsMounted(true);\n     |     ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  97 |   }, []);\n  98 |\n  99 |   // Fetch Product Data","line":96,"column":5,"nodeType":null,"endLine":96,"endColumn":17}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useMemo, useCallback, useRef } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { \r\n  Star, \r\n  Check, \r\n  Shield, \r\n  Zap, \r\n  RefreshCw, \r\n  MessageCircle, \r\n  ImageOff, \r\n  Clock,\r\n  ShoppingCart,\r\n  ArrowLeft\r\n} from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { Button, Badge, WishlistButton, StockCounter, FlashSaleTimer } from \"@/components/ui\";\r\nimport {\r\n  ProductCard,\r\n  RecentlyViewed,\r\n  ReviewSection,\r\n  ProductDetailSkeleton\r\n} from \"@/components/product\";\r\nimport { useCartStore } from \"@/store/cart\";\r\nimport { useRecentlyViewedStore } from \"@/store/recently-viewed\";\r\nimport { useAuth } from \"@/hooks/useAuth\";\r\nimport { productsApi, userApi } from \"@/lib/api\";\r\nimport type { Product } from \"@/types\";\r\nimport { cn, formatPrice, getProductPrice, isProductOnFlashSale } from \"@/lib/utils\";\r\n\r\ninterface Review {\r\n  id: string;\r\n  userId: string;\r\n  username: string;\r\n  avatar?: string;\r\n  rating: number;\r\n  comment: string;\r\n  isVerified: boolean;\r\n  helpful: number;\r\n  createdAt: Date;\r\n}\r\n\r\n\r\ninterface ReviewResponse {\r\n  id: string;\r\n  userId: string;\r\n  user?: {\r\n    username: string;\r\n    avatar?: string;\r\n  };\r\n  rating: number;\r\n  comment: string;\r\n  isVerified: boolean;\r\n  helpful?: number;\r\n  createdAt: string;\r\n}\r\n\r\ninterface OrderItem {\r\n  productId: string;\r\n}\r\n\r\ninterface Order {\r\n  status: string;\r\n  items: OrderItem[];\r\n}\r\n\r\ninterface ApiResponse<T> {\r\n  data?: T;\r\n  success?: boolean;\r\n}\r\n\r\ninterface DownloadResponse {\r\n  url: string;\r\n}\r\n\r\nexport function ProductDetail({ initialProduct }: { initialProduct?: Product }) {\r\n  const { t } = useTranslation(\"common\");\r\n  const { user, loading: authLoading } = useAuth();\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const queryClient = useQueryClient();\r\n  const [selectedImage, setSelectedImage] = useState(0);\r\n  const addItem = useCartStore((state) => state.addItem);\r\n  const addToRecentlyViewed = useRecentlyViewedStore((state) => state.addItem);\r\n  const [isMounted, setIsMounted] = useState(false);\r\n\r\n  const productId = params?.id as string;\r\n\r\n  useEffect(() => {\r\n    setIsMounted(true);\r\n  }, []);\r\n\r\n  // Fetch Product Data\r\n  const { data: product, isLoading: productLoading } = useQuery({\r\n    queryKey: ['product', productId],\r\n    queryFn: async () => {\r\n      const { data, error } = await productsApi.getById(productId);\r\n      if (error) throw new Error(error.message);\r\n      const response = data as ApiResponse<Product>;\r\n      const prod = response?.data;\r\n      \r\n      return prod as Product;\r\n    },\r\n    enabled: !!productId,\r\n    initialData: initialProduct,\r\n  });\r\n\r\n  // Track recently viewed in a separate effect to avoid cascading renders\r\n  const hasTracked = useRef(false);\r\n  useEffect(() => {\r\n    if (product && !hasTracked.current) {\r\n      addToRecentlyViewed({\r\n        id: product.id,\r\n        name: product.name,\r\n        price: product.price,\r\n        image: product.thumbnail || \"\",\r\n        category: product.category,\r\n        stock: product.stock,\r\n        isFlashSale: product.isFlashSale,\r\n        flashSalePrice: product.flashSalePrice,\r\n        flashSaleEnds: product.flashSaleEnds,\r\n        rewardPoints: product.rewardPoints,\r\n        expectedPoints: product.expectedPoints,\r\n      });\r\n      hasTracked.current = true;\r\n    }\r\n  }, [product, addToRecentlyViewed]);\r\n\r\n  // Fetch Reviews\r\n  const { data: reviewsData } = useQuery({\r\n    queryKey: ['reviews', productId],\r\n    queryFn: async () => {\r\n      const { data } = await productsApi.getReviews(productId);\r\n      return (data as ApiResponse<ReviewResponse[]>)?.data || [];\r\n    },\r\n    enabled: !!productId,\r\n  });\r\n\r\n  const reviews = useMemo(() => reviewsData || [], [reviewsData]);\r\n\r\n  // Check Purchase Status\r\n  const { data: hasPurchased } = useQuery({\r\n    queryKey: ['purchase-status', user?.id, productId],\r\n    queryFn: async () => {\r\n      const { data } = await userApi.getOrders();\r\n      const orders = (data as ApiResponse<Order[]>)?.data || [];\r\n      return orders.some(order =>\r\n        order.status === \"COMPLETED\" &&\r\n        order.items.some(item => item.productId === productId)\r\n      );\r\n    },\r\n    enabled: !!user?.id && !!productId,\r\n    initialData: false,\r\n  });\r\n\r\n  // Check if user can review\r\n  const { data: canReview } = useQuery({\r\n    queryKey: ['can-review', user?.id, productId],\r\n    queryFn: async () => {\r\n      if (!user || !hasPurchased) return false;\r\n      const alreadyReviewed = reviews.some((r) => r.userId === user.id);\r\n      return !alreadyReviewed;\r\n    },\r\n    enabled: !!user?.id && !!productId && !!reviews,\r\n    initialData: false,\r\n  });\r\n\r\n  // Review Mutation\r\n  const submitReviewMutation = useMutation({\r\n    mutationFn: async ({ rating, comment }: { rating: number, comment: string }) => {\r\n      const { data, error } = await productsApi.addReview(productId, rating, comment);\r\n      if (error) throw new Error(error.message);\r\n      return data;\r\n    },\r\n    onSuccess: () => {\r\n      toast.success(t(\"products.detail.success.review_submitted\"));\r\n      queryClient.invalidateQueries({ queryKey: ['reviews', productId] });\r\n      queryClient.invalidateQueries({ queryKey: ['can-review', user?.id, productId] });\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(error.message || t(\"products.detail.errors.review_failed\"));\r\n    }\r\n  });\r\n\r\n  // Download Mutation\r\n  const downloadMutation = useMutation({\r\n    mutationFn: async () => {\r\n      const { data, error } = await productsApi.download(productId);\r\n      if (error) throw new Error(error.message);\r\n      return (data as ApiResponse<DownloadResponse>)?.data?.url ?? '';\r\n    },\r\n    onSuccess: (url: string) => {\r\n      window.open(url, '_blank');\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(error.message || t(\"products.detail.errors.download_failed\"));\r\n    }\r\n  });\r\n\r\n  const reviewStats = useMemo(() => {\r\n    const dist = { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 };\r\n    reviews.forEach((r: ReviewResponse) => {\r\n      const rating = Math.round(r.rating) as keyof typeof dist;\r\n      if (dist[rating] !== undefined) dist[rating]++;\r\n    });\r\n\r\n    return {\r\n      average: product?.rating || 0,\r\n      total: product?.reviewCount || 0,\r\n      distribution: dist\r\n    };\r\n  }, [reviews, product?.rating, product?.reviewCount]);\r\n\r\n  const renderTranslation = useCallback((key: string, options?: Record<string, unknown>): string | null => {\r\n    if (!isMounted) return null;\r\n    const result = t(key, options);\r\n    return typeof result === \"string\" ? result : key;\r\n  }, [isMounted, t]);\r\n\r\n  const relatedProducts: Product[] = useMemo(() => {\r\n    return [];\r\n  }, []);\r\n\r\n  const handleAddToCart = useCallback(() => {\r\n    if (product) addItem(product);\r\n  }, [addItem, product]);\r\n\r\n  const handleBuyNow = useCallback(() => {\r\n    if (product) {\r\n      addItem(product);\r\n      router.push(\"/cart\");\r\n    }\r\n  }, [addItem, router, product]);\r\n\r\n  const handleDownload = useCallback(() => {\r\n    downloadMutation.mutate();\r\n  }, [downloadMutation]);\r\n\r\n  const handleSubmitReview = useCallback((rating: number, comment: string) => {\r\n    if (!user) {\r\n      router.push(`/auth/login?callbackUrl=${encodeURIComponent(window.location.pathname)}`);\r\n      return;\r\n    }\r\n    submitReviewMutation.mutate({ rating, comment });\r\n  }, [user, router, submitReviewMutation]);\r\n\r\n  const allImages = useMemo(() => {\r\n    if (!product) return [];\r\n    const images = [];\r\n    if (product.thumbnail) images.push(product.thumbnail);\r\n    if (product.images && Array.isArray(product.images)) {\r\n      images.push(...product.images);\r\n    }\r\n    return images;\r\n  }, [product]);\r\n\r\n  const loading = productLoading;\r\n\r\n  if (loading || authLoading || !isMounted) {\r\n    return (\r\n      <div className=\"min-h-screen pt-20\">\r\n        <ProductDetailSkeleton />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!product) {\r\n    return (\r\n      <div className=\"min-h-screen pt-20 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h1 className=\"text-2xl font-bold text-white mb-4\">{renderTranslation(\"products.detail.errors.not_found\")}</h1>\r\n          <Link href=\"/products\">\r\n            <Button>{renderTranslation(\"products.detail.errors.back_to_products\")}</Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen pt-20\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        {/* Breadcrumb */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"flex items-center gap-2 text-sm text-gray-400 mb-8\"\r\n        >\r\n          <Link href=\"/\" className=\"hover:text-red-400 transition-colors\">\r\n            {renderTranslation(\"products.detail.breadcrumb_home\")}\r\n          </Link>\r\n          <span>/</span>\r\n          <Link href=\"/products\" className=\"hover:text-red-400 transition-colors\">\r\n            {renderTranslation(\"products.detail.breadcrumb_products\")}\r\n          </Link>\r\n          <span>/</span>\r\n          <span className=\"text-white\">{product.name}</span>\r\n        </motion.div>\r\n\r\n        {/* Product Detail */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12\">\r\n          {/* Images */}\r\n          <motion.div\r\n            initial={{ opacity: 0, x: -20 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            className=\"space-y-6\"\r\n          >\r\n            {/* Main Image */}\r\n            <div className=\"relative aspect-video rounded-3xl overflow-hidden bg-linear-to-br from-red-900/40 via-black to-black border border-white/5 shadow-2xl group\">\r\n              {allImages[selectedImage] ? (\r\n                <Image\r\n                  src={allImages[selectedImage]}\r\n                  alt={product.name}\r\n                  fill\r\n                  className=\"object-cover transition-transform duration-700 group-hover:scale-105\"\r\n                />\r\n              ) : (\r\n                <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-white/5\">\r\n                  <ImageOff className=\"w-16 h-16 text-gray-600 mb-4\" />\r\n                  <span className=\"text-sm font-black uppercase tracking-[0.2em] text-gray-600\">{renderTranslation(\"products.detail.no_image\")}</span>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"absolute inset-0 bg-linear-to-t from-black/60 via-transparent to-transparent opacity-60\" />\r\n\r\n              {/* Badges */}\r\n              <div className=\"absolute top-6 left-6 flex flex-col gap-2 z-10\">\r\n                {product.isNew && (\r\n                  <Badge variant=\"success\" className=\"bg-emerald-500/20 text-emerald-400 border-emerald-500/30 px-3 py-1 font-bold uppercase tracking-widest text-[10px] w-fit\">\r\n                    {renderTranslation(\"products.card.new\")}\r\n                  </Badge>\r\n                )}\r\n                {isProductOnFlashSale(product) ? (\r\n                  <Badge variant=\"destructive\" className=\"bg-red-600 text-white border-none shadow-lg shadow-red-600/20 px-3 py-1.5 font-black uppercase tracking-widest text-[10px] gap-1.5 animate-pulse w-fit\">\r\n                    <Zap className=\"w-3.5 h-3.5 fill-white\" />\r\n                    {renderTranslation(\"flash_sale.title\")} -{Math.round((1 - (product.flashSalePrice || product.price) / (product.originalPrice || product.price)) * 100)}%\r\n                  </Badge>\r\n                ) : product.originalPrice && (\r\n                  <Badge variant=\"destructive\" className=\"bg-red-600 text-white border-none shadow-lg shadow-red-600/20 px-3 py-1.5 font-black uppercase tracking-widest text-[10px] w-fit\">\r\n                    -{Math.round((1 - product.price / product.originalPrice) * 100)}%\r\n                  </Badge>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Thumbnails */}\r\n            {allImages.length > 1 && (\r\n              <div className=\"flex gap-3 overflow-x-auto pb-2 scrollbar-hide\">\r\n                {allImages.map((img, index) => (\r\n                  <button\r\n                    key={index}\r\n                    onClick={() => setSelectedImage(index)}\r\n                    className={cn(\r\n                      \"relative w-24 h-20 rounded-2xl overflow-hidden border-2 transition-all duration-300 shrink-0\",\r\n                      selectedImage === index\r\n                        ? \"border-red-600 shadow-lg shadow-red-600/20 scale-95\"\r\n                        : \"border-white/5 hover:border-white/20 opacity-60 hover:opacity-100\"\r\n                    )}\r\n                  >\r\n                    <Image src={img} alt=\"\" fill className=\"object-cover\" />\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n\r\n          {/* Info */}\r\n          <motion.div\r\n            initial={{ opacity: 0, x: 20 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            className=\"space-y-6\"\r\n          >\r\n            {/* Category */}\r\n            <Badge variant=\"secondary\">\r\n              {product.category === \"SCRIPT\"\r\n                ? renderTranslation(\"footer.links.products.script\")\r\n                : product.category === \"UI\"\r\n                  ? renderTranslation(\"footer.links.products.ui\")\r\n                  : product.category === \"BUNDLE\"\r\n                    ? renderTranslation(\"footer.links.products.bundle\")\r\n                    : renderTranslation(\"footer.links.products.commission\")}\r\n            </Badge>\r\n\r\n            {/* Title */}\r\n            <h1 className=\"text-3xl md:text-4xl font-bold text-white\">\r\n              {product.name}\r\n            </h1>\r\n\r\n            {/* Rating & Stock */}\r\n            <div className=\"flex flex-wrap items-center gap-6\">\r\n              <div className=\"flex items-center gap-1\">\r\n                {[...Array(Math.max(0, 5))].map((_, i) => (\r\n                  <Star\r\n                    key={i}\r\n                    className={`w-5 h-5 ${i < Math.floor(product.rating || 0)\r\n                      ? \"fill-red-500 text-red-500\"\r\n                      : \"text-white/10\"\r\n                      }`}\r\n                  />\r\n                ))}\r\n                <span className=\"ml-2 text-white font-medium\">{product.rating}</span>\r\n                <span className=\"text-gray-400 ml-1\">({product.reviewCount} {renderTranslation(\"products.detail.reviews_count\")})</span>\r\n              </div>\r\n\r\n              <StockCounter stock={product.stock} />\r\n            </div>\r\n\r\n            {/* Price & Flash Sale Timer */}\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex flex-wrap items-baseline gap-4\">\r\n                <span className=\"text-4xl font-black text-red-500 tracking-tighter\">\r\n                  {formatPrice(getProductPrice(product))}\r\n                </span>\r\n                {isProductOnFlashSale(product) && (\r\n                  <span className=\"text-xl text-gray-500 line-through opacity-50 font-bold\">\r\n                    {formatPrice(product.price)}\r\n                  </span>\r\n                )}\r\n                {!isProductOnFlashSale(product) && product.originalPrice && (\r\n                  <span className=\"text-xl text-gray-500 line-through opacity-50 font-bold\">\r\n                    {formatPrice(product.originalPrice)}\r\n                  </span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"flex flex-wrap items-center gap-4\">\r\n                {/* Reward Points Badge */}\r\n                {product.expectedPoints !== undefined && product.expectedPoints > 0 && (\r\n                  <div className=\"inline-flex items-center gap-2.5 px-4 py-2 rounded-2xl bg-yellow-400/5 border border-yellow-400/10 shadow-inner group\">\r\n                    <Star className=\"w-5 h-5 text-yellow-500 fill-yellow-500/20 group-hover:scale-110 transition-transform\" />\r\n                    <div>\r\n                      <p className=\"text-[10px] text-gray-500 uppercase font-black tracking-widest leading-none mb-1\">{renderTranslation(\"products.detail.earn_points\")}</p>\r\n                      <p className=\"text-lg font-black text-yellow-500 leading-none\">\r\n                        {product.expectedPoints.toLocaleString()} <span className=\"text-xs uppercase opacity-60\">Pts</span>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {isProductOnFlashSale(product) && product.flashSaleEnds && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, y: 10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    className=\"inline-flex items-center gap-4 px-4 py-3 rounded-2xl bg-red-500/10 border border-red-500/20\"\r\n                  >\r\n                    <div className=\"flex items-center gap-2 text-red-500\">\r\n                      <Clock className=\"w-5 h-5 animate-pulse\" />\r\n                      <span className=\"text-xs font-black uppercase tracking-widest\">{renderTranslation(\"flash_sale.title\")} {renderTranslation(\"flash_sale.ends_in\")}</span>\r\n                    </div>\r\n                    <FlashSaleTimer\r\n                      endTime={product.flashSaleEnds}\r\n                      variant=\"default\"\r\n                      className=\"text-white\"\r\n                    />\r\n                  </motion.div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <p className=\"text-gray-400 leading-relaxed\">{product.description}</p>\r\n\r\n            {/* Features */}\r\n            <div className=\"space-y-3\">\r\n              <h3 className=\"font-semibold text-white\">{renderTranslation(\"products.detail.features_title\")}</h3>\r\n              <ul className=\"space-y-2\">\r\n                {product.features.map((feature: string, index: number) => (\r\n                  <li key={index} className=\"flex items-center gap-2 text-gray-300\">\r\n                    <Check className=\"w-4 h-4 text-red-400 shrink-0\" />\r\n                    {feature}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex flex-col gap-4 pt-6\">\r\n              {hasPurchased && product.isDownloadable && (\r\n                <div className=\"w-full\">\r\n                  <Button\r\n                    size=\"xl\"\r\n                    className=\"w-full bg-emerald-600 hover:bg-emerald-500 shadow-xl shadow-emerald-600/20 h-14 text-lg font-bold mb-4\"\r\n                    onClick={handleDownload}\r\n                    disabled={downloadMutation.isPending}\r\n                  >\r\n                    {downloadMutation.isPending ? (\r\n                      <>\r\n                        <RefreshCw className=\"w-5 h-5 mr-2 animate-spin\" />\r\n                        {renderTranslation(\"products.detail.downloading\")}\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Zap className=\"w-5 h-5 mr-2\" />\r\n                        {renderTranslation(\"products.detail.download_btn\")}\r\n                      </>\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex gap-4\">\r\n                <Button\r\n                  size=\"xl\"\r\n                  className={cn(\r\n                    \"flex-1 h-14 text-lg font-bold shadow-xl shadow-red-600/20\",\r\n                    hasPurchased ? \"bg-white/10 hover:bg-white/20 border border-white/10\" : \"bg-red-600 hover:bg-red-500\"\r\n                  )}\r\n                  onClick={handleBuyNow}\r\n                >\r\n                  {hasPurchased\r\n                    ? renderTranslation(\"products.detail.buy_now_btn\")\r\n                    : renderTranslation(\"products.detail.buy_now_btn\")\r\n                  }\r\n                </Button>\r\n\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  size=\"xl\"\r\n                  className=\"flex-1 bg-white/5 hover:bg-white/10 border-white/5 h-14\"\r\n                  onClick={handleAddToCart}\r\n                >\r\n                  <ShoppingCart className=\"w-4 h-4 mr-2\" />\r\n                  {renderTranslation(\"products.detail.add_to_cart_btn\")}\r\n                </Button>\r\n\r\n                <WishlistButton\r\n                  item={{\r\n                    id: product.id,\r\n                    name: product.name,\r\n                    price: product.price,\r\n                    image: product.thumbnail || \"\",\r\n                    category: product.category,\r\n                    description: product.description || \"\",\r\n                    stock: product.stock,\r\n                    isFlashSale: product.isFlashSale,\r\n                    flashSalePrice: product.flashSalePrice,\r\n                    flashSaleEnds: product.flashSaleEnds,\r\n                  }}\r\n                  size=\"xl\"\r\n                  className=\"h-14 w-14 shrink-0 bg-white/5 border-white/5 hover:bg-white/10\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Trust Badges */}\r\n            <div className=\"grid grid-cols-2 gap-4 pt-6 border-t border-white/10\">\r\n              {[\r\n                { icon: Shield, label: renderTranslation(\"products.detail.trust.secure\"), desc: renderTranslation(\"products.detail.trust.secure_desc\") },\r\n                { icon: Zap, label: renderTranslation(\"products.detail.trust.instant\"), desc: renderTranslation(\"products.detail.trust.instant_desc\") },\r\n                { icon: RefreshCw, label: renderTranslation(\"products.detail.trust.update\"), desc: renderTranslation(\"products.detail.trust.update_desc\") },\r\n                { icon: MessageCircle, label: renderTranslation(\"products.detail.trust.support\"), desc: renderTranslation(\"products.detail.trust.support_desc\") },\r\n              ].map((item, index) => (\r\n                <div key={index} className=\"flex items-center gap-3\">\r\n                  <div className=\"w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center shrink-0\">\r\n                    <item.icon className=\"w-5 h-5 text-red-400\" />\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-white\">{item.label}</p>\r\n                    <p className=\"text-xs text-gray-500\">{item.desc}</p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n\r\n        <ReviewSection\r\n          productId={product.id}\r\n          reviews={reviews.map((r: ReviewResponse) => ({\r\n            id: r.id,\r\n            userId: r.userId,\r\n            username: r.user?.username || \"Unknown\",\r\n            avatar: r.user?.avatar,\r\n            rating: r.rating,\r\n            comment: r.comment,\r\n            isVerified: r.isVerified,\r\n            helpful: r.helpful || 0,\r\n            createdAt: new Date(r.createdAt)\r\n          }))}\r\n          averageRating={reviewStats.average}\r\n          totalReviews={reviewStats.total}\r\n          distribution={reviewStats.distribution}\r\n          canReview={canReview}\r\n          onSubmitReview={async (rating: number, comment: string) => handleSubmitReview(rating, comment)}\r\n        />\r\n\r\n        {/* Recently Viewed */}\r\n        <RecentlyViewed limit={4} excludeId={product.id} />\r\n\r\n        {/* Related Products */}\r\n        {relatedProducts.length > 0 && (\r\n          <section className=\"mt-12\">\r\n            <h2 className=\"text-2xl font-bold text-white mb-8\">{renderTranslation(\"products.detail.related_products\")}</h2>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n              {relatedProducts.map((p, index) => (\r\n                <ProductCard key={p.id} product={p} index={index} />\r\n              ))}\r\n            </div>\r\n          </section>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\app\\(main)\\web-design\\page.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\app\\(main)\\web-design\\page.tsx:46:5\n  44 |\n  45 |   useEffect(() => {\n> 46 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  47 |   }, []);\n  48 |\n  49 |   const renderTranslation = (key: string, options?: any): string => {","line":46,"column":5,"nodeType":null,"endLine":46,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useCallback, useMemo } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport {\r\n  Globe,\r\n  Code,\r\n  Palette,\r\n  Smartphone,\r\n  Zap,\r\n  Shield,\r\n  Clock,\r\n  CheckCircle,\r\n  ArrowRight,\r\n  MessageCircle,\r\n  Star,\r\n  Users,\r\n  Layers,\r\n  Database,\r\n  ShoppingCart,\r\n  Mail,\r\n} from \"lucide-react\";\r\nimport { Button, Card, Badge } from \"@/components/ui\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport default function WebDesignPage() {\r\n  const { t } = useTranslation(\"common\");\r\n  const [mounted, setMounted] = useState(false);\r\n  const [selectedService, setSelectedService] = useState<number | null>(null);\r\n\r\n  const technologies = [\r\n    { name: \"Next.js\", color: \"bg-black\" },\r\n    { name: \"React\", color: \"bg-red-500\" },\r\n    { name: \"TypeScript\", color: \"bg-red-600\" },\r\n    { name: \"TailwindCSS\", color: \"bg-red-400\" },\r\n    { name: \"Node.js\", color: \"bg-red-700\" },\r\n    { name: \"PostgreSQL\", color: \"bg-red-800\" },\r\n    { name: \"MongoDB\", color: \"bg-red-900\" },\r\n    { name: \"Prisma\", color: \"bg-red-600\" },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const renderTranslation = (key: string, options?: any): string => {\r\n    if (!mounted) return \"\";\r\n    const result = t(key, options);\r\n    return typeof result === \"string\" ? result : key;\r\n  };\r\n\r\n  const handleServiceClick = useCallback((index: number) => {\r\n    setSelectedService(prev => prev === index ? null : index);\r\n  }, []);\r\n\r\n  const services = useMemo(() => [\r\n    {\r\n      icon: Globe,\r\n      title: t(\"web_design.services.business.title\"),\r\n      description: t(\"web_design.services.business.desc\"),\r\n      price: t(\"web_design.services.business.price\"),\r\n      features: [\r\n        t(\"web_design.services.business.f1\"),\r\n        t(\"web_design.services.business.f2\"),\r\n        t(\"web_design.services.business.f3\"),\r\n        t(\"web_design.services.business.f4\")\r\n      ],\r\n    },\r\n    {\r\n      icon: ShoppingCart,\r\n      title: t(\"web_design.services.ecommerce.title\"),\r\n      description: t(\"web_design.services.ecommerce.desc\"),\r\n      price: t(\"web_design.services.ecommerce.price\"),\r\n      features: [\r\n        t(\"web_design.services.ecommerce.f1\"),\r\n        t(\"web_design.services.ecommerce.f2\"),\r\n        t(\"web_design.services.ecommerce.f3\"),\r\n        t(\"web_design.services.ecommerce.f4\")\r\n      ],\r\n    },\r\n    {\r\n      icon: Layers,\r\n      title: t(\"web_design.services.app.title\"),\r\n      description: t(\"web_design.services.app.desc\"),\r\n      price: t(\"web_design.services.app.price\"),\r\n      features: [\r\n        t(\"web_design.services.app.f1\"),\r\n        t(\"web_design.services.app.f2\"),\r\n        t(\"web_design.services.app.f3\"),\r\n        t(\"web_design.services.app.f4\")\r\n      ],\r\n    },\r\n    {\r\n      icon: Smartphone,\r\n      title: t(\"web_design.services.landing.title\"),\r\n      description: t(\"web_design.services.landing.desc\"),\r\n      price: t(\"web_design.services.landing.price\"),\r\n      features: [\r\n        t(\"web_design.services.landing.f1\"),\r\n        t(\"web_design.services.landing.f2\"),\r\n        t(\"web_design.services.landing.f3\"),\r\n        t(\"web_design.services.landing.f4\")\r\n      ],\r\n    },\r\n  ], [t]);\r\n\r\n  const processSteps = useMemo(() => [\r\n    {\r\n      step: 1,\r\n      title: t(\"web_design.process.step1.title\"),\r\n      description: t(\"web_design.process.step1.desc\"),\r\n    },\r\n    {\r\n      step: 2,\r\n      title: t(\"web_design.process.step2.title\"),\r\n      description: t(\"web_design.process.step2.desc\"),\r\n    },\r\n    {\r\n      step: 3,\r\n      title: t(\"web_design.process.step3.title\"),\r\n      description: t(\"web_design.process.step3.desc\"),\r\n    },\r\n    {\r\n      step: 4,\r\n      title: t(\"web_design.process.step4.title\"),\r\n      description: t(\"web_design.process.step4.desc\"),\r\n    },\r\n  ], [t]);\r\n\r\n  const portfolios = useMemo(() => [\r\n    {\r\n      title: t(\"web_design.portfolios.p1.title\"),\r\n      category: t(\"web_design.portfolios.p1.cat\"),\r\n      image: \"/images/Query.Design.jpg\",\r\n    },\r\n    {\r\n      title: t(\"web_design.portfolios.p2.title\"),\r\n      category: t(\"web_design.portfolios.p2.cat\"),\r\n      image: \"/images/Query.Design.jpg\",\r\n    },\r\n    {\r\n      title: t(\"web_design.portfolios.p3.title\"),\r\n      category: t(\"web_design.portfolios.p3.cat\"),\r\n      image: \"/images/Query.Design.jpg\",\r\n    },\r\n  ], [t]);\r\n\r\n  const whyChooseUs = useMemo(() => [\r\n    {\r\n      icon: Code,\r\n      title: t(\"web_design.why.code.title\"),\r\n      description: t(\"web_design.why.code.desc\"),\r\n    },\r\n    {\r\n      icon: Zap,\r\n      title: t(\"web_design.why.speed.title\"),\r\n      description: t(\"web_design.why.speed.desc\"),\r\n    },\r\n    {\r\n      icon: Shield,\r\n      title: t(\"web_design.why.security.title\"),\r\n      description: t(\"web_design.why.security.desc\"),\r\n    },\r\n    {\r\n      icon: Clock,\r\n      title: t(\"web_design.why.time.title\"),\r\n      description: t(\"web_design.why.time.desc\"),\r\n    },\r\n  ], [t]);\r\n\r\n  const renderedServices = useMemo(() => services.map((service, index) => {\r\n    const Icon = service.icon;\r\n    return (\r\n      <motion.div\r\n        key={index}\r\n        initial={{ opacity: 0, y: 20 }}\r\n        whileInView={{ opacity: 1, y: 0 }}\r\n        viewport={{ once: true }}\r\n        transition={{ delay: index * 0.1 }}\r\n      >\r\n        <Card\r\n          className={cn(\r\n            \"p-6 h-full cursor-pointer transition-all duration-500 border-white/5 bg-white/2 backdrop-blur-sm group hover:border-red-500/50 hover:shadow-2xl hover:shadow-red-500/10\",\r\n            selectedService === index ? \"border-red-500 bg-red-500/5 ring-1 ring-red-500/20\" : \"\"\r\n          )}\r\n          onClick={() => handleServiceClick(index)}\r\n        >\r\n          <div className=\"w-14 h-14 rounded-2xl bg-red-500/10 flex items-center justify-center mb-6 group-hover:scale-110 group-hover:bg-red-500/20 transition-all duration-500\">\r\n            <Icon className=\"w-7 h-7 text-red-500\" />\r\n          </div>\r\n          <h3 className=\"text-xl font-bold text-white mb-2 group-hover:text-red-400 transition-colors\">\r\n            {service.title}\r\n          </h3>\r\n          <p className=\"text-gray-400 text-xs mb-6 leading-relaxed\">\r\n            {service.description}\r\n          </p>\r\n          <div className=\"text-lg font-black text-white mb-6 flex items-center gap-2\">\r\n            <span className=\"text-[10px] text-gray-500 font-normal uppercase tracking-wider\">{renderTranslation(\"common.start_at\")}</span>\r\n            <span className=\"text-red-400 tracking-tighter\">{service.price}</span>\r\n          </div>\r\n          <ul className=\"space-y-3\">\r\n            {service.features.map((feature, i) => (\r\n              <li\r\n                key={i}\r\n                className=\"flex items-center gap-3 text-sm text-gray-400 group-hover:text-gray-300 transition-colors\"\r\n              >\r\n                <div className=\"w-5 h-5 rounded-full bg-red-500/10 flex items-center justify-center shrink-0\">\r\n                  <CheckCircle className=\"w-3.5 h-3.5 text-red-500\" />\r\n                </div>\r\n                {feature}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </Card>\r\n      </motion.div>\r\n    );\r\n  }), [selectedService, handleServiceClick, services, renderTranslation]);\r\n\r\n  const renderedTechnologies = useMemo(() => technologies.map((tech, index) => (\r\n    <motion.div\r\n      key={index}\r\n      initial={{ opacity: 0, scale: 0.9 }}\r\n      whileInView={{ opacity: 1, scale: 1 }}\r\n      viewport={{ once: true }}\r\n      transition={{ delay: index * 0.05 }}\r\n      className=\"px-8 py-4 rounded-2xl bg-white/5 border border-white/5 text-white font-bold hover:bg-red-600/10 hover:border-red-500/30 transition-all duration-300 hover:-translate-y-1 shadow-lg\"\r\n    >\r\n      {tech.name}\r\n    </motion.div>\r\n  )), []);\r\n\r\n  const renderedProcess = useMemo(() => processSteps.map((item, index) => (\r\n    <motion.div\r\n      key={index}\r\n      initial={{ opacity: 0, y: 20 }}\r\n      whileInView={{ opacity: 1, y: 0 }}\r\n      viewport={{ once: true }}\r\n      transition={{ delay: index * 0.1 }}\r\n      className=\"relative\"\r\n    >\r\n      {/* Connector Line */}\r\n      {index < processSteps.length - 1 && (\r\n        <div className=\"hidden md:block absolute top-8 left-1/2 w-full h-[2px] bg-linear-to-r from-red-500/50 to-transparent z-0\" />\r\n      )}\r\n\r\n      <div className=\"relative z-10 text-center group\">\r\n        <div className=\"w-14 h-14 mx-auto rounded-2xl bg-black border-2 border-red-500/30 group-hover:border-red-500 group-hover:scale-110 group-hover:shadow-[0_0_20px_-5px_rgba(239,68,68,0.5)] flex items-center justify-center mb-6 transition-all duration-500\">\r\n          <span className=\"text-xl font-bold text-red-500 group-hover:text-red-400\">\r\n            {item.step}\r\n          </span>\r\n        </div>\r\n        <h3 className=\"text-base font-bold text-white mb-2 group-hover:text-red-400 transition-colors\">\r\n          {item.title}\r\n        </h3>\r\n        <p className=\"text-gray-400 text-xs leading-relaxed\">{item.description}</p>\r\n      </div>\r\n    </motion.div>\r\n  )), [processSteps]);\r\n\r\n  const renderedWhyChooseUs = useMemo(() => whyChooseUs.map((item, index) => {\r\n    const Icon = item.icon;\r\n    return (\r\n      <motion.div\r\n        key={index}\r\n        initial={{ opacity: 0, y: 20 }}\r\n        whileInView={{ opacity: 1, y: 0 }}\r\n        viewport={{ once: true }}\r\n        transition={{ delay: index * 0.1 }}\r\n        className=\"text-center\"\r\n      >\r\n        <div className=\"w-16 h-16 mx-auto rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center mb-4\">\r\n          <Icon className=\"w-8 h-8 text-red-400\" />\r\n        </div>\r\n        <h3 className=\"text-lg font-semibold text-white mb-2\">\r\n          {item.title}\r\n        </h3>\r\n        <p className=\"text-gray-400 text-sm\">{item.description}</p>\r\n      </motion.div>\r\n    );\r\n  }), [whyChooseUs]);\r\n\r\n  const renderedPortfolios = useMemo(() => portfolios.map((item, index) => (\r\n    <motion.div\r\n      key={index}\r\n      initial={{ opacity: 0, y: 20 }}\r\n      whileInView={{ opacity: 1, y: 0 }}\r\n      viewport={{ once: true }}\r\n      transition={{ delay: index * 0.1 }}\r\n      className=\"group cursor-pointer\"\r\n    >\r\n      <Card className=\"overflow-hidden border-white/5 bg-white/2 hover:border-red-500/50 transition-all duration-500 shadow-2xl\">\r\n        <div className=\"relative aspect-video overflow-hidden\">\r\n          <Image\r\n            src={item.image}\r\n            alt={item.title}\r\n            fill\r\n            className=\"object-cover transition-transform duration-700 group-hover:scale-110\"\r\n          />\r\n          <div className=\"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-center justify-center backdrop-blur-[2px]\">\r\n            <Button variant=\"secondary\" size=\"sm\" className=\"bg-white text-black border-none font-bold\">\r\n              {renderTranslation(\"web_design.portfolios.view_details\")}\r\n            </Button>\r\n          </div>\r\n          <div className=\"absolute bottom-4 left-4 z-10\">\r\n            <Badge className=\"bg-red-600 text-white border-none px-3 shadow-lg shadow-red-600/20\">\r\n              {item.category}\r\n            </Badge>\r\n          </div>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          <h3 className=\"text-xl font-bold text-white group-hover:text-red-400 transition-colors\">\r\n            {item.title}\r\n          </h3>\r\n        </div>\r\n      </Card>\r\n    </motion.div>\r\n  )), [portfolios, renderTranslation]);\r\n\r\n  if (!mounted) return null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen pt-20\">\r\n      {/* Hero Section */}\r\n      <section className=\"py-24 relative overflow-hidden\">\r\n        <div className=\"absolute inset-0 bg-linear-to-br from-red-900/30 via-black to-black\" />\r\n        <div className=\"absolute inset-0 bg-[url('/grid.svg')] opacity-10\" />\r\n        <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-red-600/10 rounded-full blur-[128px] animate-pulse\" />\r\n        <div className=\"absolute bottom-1/4 right-1/4 w-96 h-96 bg-red-400/5 rounded-full blur-[128px] animate-pulse delay-1000\" />\r\n\r\n        <div className=\"container mx-auto px-4 relative\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"text-center max-w-4xl mx-auto\"\r\n          >\r\n            <Badge className=\"mb-6 bg-red-500/10 text-red-500 border-red-500/20 px-4 py-1.5 text-sm\">\r\n              <Globe className=\"w-4 h-4 mr-2\" />\r\n              {renderTranslation(\"web_design.hero.badge\")}\r\n            </Badge>\r\n            <h1 className=\"text-3xl md:text-5xl lg:text-6xl font-black text-white mb-6 leading-tight tracking-tighter\">\r\n              {renderTranslation(\"web_design.hero.title1\")}\r\n              <br />\r\n              <span className=\"text-transparent bg-clip-text bg-linear-to-r from-red-500 via-red-400 to-red-700 animate-gradient\">\r\n                {renderTranslation(\"web_design.hero.title2\")}\r\n              </span>\r\n            </h1>\r\n            <p className=\"text-gray-400 text-base md:text-lg mb-10 leading-relaxed max-w-2xl mx-auto\">\r\n              {renderTranslation(\"web_design.hero.desc\")}\r\n            </p>\r\n            <div className=\"flex flex-wrap items-center justify-center gap-4\">\r\n              <Link href=\"https://discord.gg/rQxc8ZNYE6\" target=\"_blank\">\r\n                <Button size=\"xl\" className=\"group bg-red-600 hover:bg-red-500 shadow-xl shadow-red-600/20 px-8 h-12 rounded-xl font-black text-sm\">\r\n                  <MessageCircle className=\"w-4 h-4 mr-2\" />\r\n                  {renderTranslation(\"web_design.hero.cta_consult\")}\r\n                  <ArrowRight className=\"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1\" />\r\n                </Button>\r\n              </Link>\r\n              <Button variant=\"secondary\" size=\"xl\" className=\"bg-white/5 border-white/10 hover:bg-white/10 px-8 h-12 rounded-xl font-bold text-sm\">\r\n                <Star className=\"w-4 h-4 mr-2\" />\r\n                {renderTranslation(\"web_design.hero.cta_portfolio\")}\r\n              </Button>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Services Section */}\r\n      <section className=\"py-16\">\r\n        <div className=\"container mx-auto\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ once: true }}\r\n            className=\"text-center mb-10\"\r\n          >\r\n            <h2 className=\"text-2xl md:text-3xl font-black text-white mb-3 tracking-tight\">\r\n              {renderTranslation(\"web_design.services.section_title\")}\r\n            </h2>\r\n            <p className=\"text-gray-400 text-sm max-w-2xl mx-auto\">\r\n              {renderTranslation(\"web_design.services.section_desc\")}\r\n            </p>\r\n          </motion.div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n            {renderedServices}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Process Section */}\r\n      <section className=\"py-24 bg-white/2 backdrop-blur-sm relative overflow-hidden\">\r\n        <div className=\"absolute top-0 left-0 w-full h-px bg-linear-to-r from-transparent via-red-500/20 to-transparent\" />\r\n        <div className=\"container mx-auto px-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ once: true }}\r\n            className=\"text-center mb-12\"\r\n          >\r\n            <h2 className=\"text-2xl md:text-3xl font-black text-white mb-3 tracking-tight\">\r\n              {renderTranslation(\"web_design.process.section_title\")}\r\n            </h2>\r\n            <p className=\"text-gray-400 text-sm max-w-2xl mx-auto\">\r\n              {renderTranslation(\"web_design.process.section_desc\")}\r\n            </p>\r\n          </motion.div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8 max-w-6xl mx-auto\">\r\n            {renderedProcess}\r\n          </div>\r\n        </div>\r\n        <div className=\"absolute bottom-0 left-0 w-full h-px bg-linear-to-r from-transparent via-red-500/20 to-transparent\" />\r\n      </section>\r\n\r\n      {/* Technologies */}\r\n      <section className=\"py-24 relative\">\r\n        <div className=\"absolute inset-0 bg-linear-to-b from-transparent via-red-900/5 to-transparent\" />\r\n        <div className=\"container mx-auto px-4 relative\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ once: true }}\r\n            className=\"text-center mb-12\"\r\n          >\r\n            <h2 className=\"text-2xl md:text-3xl font-black text-white mb-3 tracking-tight\">\r\n              {renderTranslation(\"web_design.tech.section_title\")}\r\n            </h2>\r\n            <p className=\"text-gray-400 text-sm max-w-2xl mx-auto\">\r\n              {renderTranslation(\"web_design.tech.section_desc\")}\r\n            </p>\r\n          </motion.div>\r\n\r\n          <div className=\"flex flex-wrap justify-center gap-4 max-w-4xl mx-auto\">\r\n            {renderedTechnologies}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Portfolio Preview */}\r\n      <section className=\"py-24\">\r\n        <div className=\"container mx-auto px-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ once: true }}\r\n            className=\"text-center mb-12\"\r\n          >\r\n            <h2 className=\"text-2xl md:text-3xl font-black text-white mb-3 tracking-tight\">\r\n              {renderTranslation(\"web_design.portfolios.section_title\")}\r\n            </h2>\r\n            <p className=\"text-gray-400 text-sm max-w-2xl mx-auto\">\r\n              {renderTranslation(\"web_design.portfolios.section_desc\")}\r\n            </p>\r\n          </motion.div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n            {renderedPortfolios}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* CTA Section */}\r\n      <section className=\"py-24\">\r\n        <div className=\"container mx-auto px-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ once: true }}\r\n          >\r\n            <Card className=\"p-12 md:p-20 text-center relative overflow-hidden border-white/5 bg-black/40 backdrop-blur-2xl shadow-2xl\">\r\n              <div className=\"absolute -top-24 -right-24 w-64 h-64 bg-red-600/10 rounded-full blur-[100px]\" />\r\n              <div className=\"absolute -bottom-24 -left-24 w-64 h-64 bg-red-400/10 rounded-full blur-[100px]\" />\r\n              <div className=\"relative z-10\">\r\n                <div className=\"w-20 h-20 mx-auto mb-8 rounded-3xl bg-red-500/10 flex items-center justify-center border border-red-500/20\">\r\n                  <Globe className=\"w-10 h-10 text-red-500\" />\r\n                </div>\r\n                <h2 className=\"text-2xl md:text-4xl font-black text-white mb-6 leading-tight tracking-tight\">\r\n                  {renderTranslation(\"web_design.cta.title\")}\r\n                </h2>\r\n                <p className=\"text-gray-400 max-w-xl mx-auto mb-10 text-base leading-relaxed\">\r\n                  {renderTranslation(\"web_design.cta.desc\")}\r\n                </p>\r\n                <div className=\"flex flex-wrap items-center justify-center gap-4\">\r\n                  <Link href=\"https://discord.gg/rQxc8ZNYE6\" target=\"_blank\">\r\n                    <Button size=\"xl\" className=\"group bg-red-600 hover:bg-red-500 text-white font-black h-12 px-8 rounded-xl shadow-xl shadow-red-600/20 text-sm\">\r\n                      <MessageCircle className=\"w-4 h-4 mr-2\" />\r\n                      {renderTranslation(\"web_design.cta.btn_project\")}\r\n                      <ArrowRight className=\"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1\" />\r\n                    </Button>\r\n                  </Link>\r\n                  <a href=\"mailto:contact@qrstudio.com\">\r\n                    <Button variant=\"secondary\" size=\"xl\" className=\"bg-white/5 border-white/10 hover:bg-white/10 h-12 px-8 rounded-xl font-bold text-sm\">\r\n                      <Mail className=\"w-4 h-4 mr-2\" />\r\n                      {renderTranslation(\"web_design.cta.btn_email\")}\r\n                    </Button>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          </motion.div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\components\\admin\\LanguageSwitcher.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\components\\admin\\LanguageSwitcher.tsx:16:5\n  14 |\n  15 |   useEffect(() => {\n> 16 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  17 |   }, []);\n  18 |\n  19 |   const languages = [","line":16,"column":5,"nodeType":null,"endLine":16,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useState, useEffect } from 'react';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Button } from '@/components/ui';\r\nimport { cn } from '@/lib/utils';\r\nimport { Globe } from 'lucide-react';\r\n\r\nexport function LanguageSwitcher() {\r\n  const { i18n } = useTranslation();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const languages = [\r\n    { code: 'th', label: '‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢', flag: 'üáπüá≠' },\r\n    { code: 'en', label: 'English', flag: 'üá∫üá∏' },\r\n  ];\r\n\r\n  const currentLang = languages.find(lang => lang.code === i18n.language) || languages[0];\r\n\r\n  const changeLanguage = (code: string) => {\r\n    i18n.changeLanguage(code);\r\n    setIsOpen(false);\r\n  };\r\n\r\n  if (!mounted) {\r\n    return (\r\n      <Button\r\n        variant=\"ghost\"\r\n        className=\"flex items-center gap-2 px-4 h-11 rounded-xl bg-white/5 border border-white/5 text-gray-400 font-bold opacity-0\"\r\n      >\r\n        <Globe className=\"w-4 h-4\" />\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <Button\r\n        variant=\"ghost\"\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"flex items-center gap-2 px-4 h-11 rounded-xl bg-white/5 border border-white/5 hover:bg-white/10 hover:border-white/10 text-gray-400 hover:text-white transition-all font-bold\"\r\n      >\r\n        <Globe className=\"w-4 h-4\" />\r\n        <span className=\"text-xs uppercase tracking-widest\">{currentLang.code}</span>\r\n      </Button>\r\n\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <>\r\n            <div\r\n              className=\"fixed inset-0 z-40\"\r\n              onClick={() => setIsOpen(false)}\r\n            />\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 10, scale: 0.95 }}\r\n              animate={{ opacity: 1, y: 0, scale: 1 }}\r\n              exit={{ opacity: 0, y: 10, scale: 0.95 }}\r\n              className=\"absolute right-0 mt-2 w-40 z-50 bg-black/90 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl overflow-hidden\"\r\n            >\r\n              <div className=\"p-1.5\">\r\n                {languages.map((lang) => (\r\n                  <button\r\n                    key={lang.code}\r\n                    onClick={() => changeLanguage(lang.code)}\r\n                    className={cn(\r\n                      \"w-full flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm font-bold transition-all duration-300\",\r\n                      i18n.language === lang.code\r\n                        ? \"bg-red-600 text-white shadow-lg shadow-red-600/20\"\r\n                        : \"text-gray-400 hover:bg-white/5 hover:text-white\"\r\n                    )}\r\n                  >\r\n                    <span>{lang.flag}</span>\r\n                    <span className=\"text-xs uppercase tracking-widest\">{lang.label}</span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </motion.div>\r\n          </>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\components\\home\\announcement-modal.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\components\\home\\announcement-modal.tsx:94:5\n  92 |\n  93 |   useEffect(() => {\n> 94 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  95 |     // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏î \"‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏µ‡∏Å‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ\" ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á\n  96 |     const dismissed = localStorage.getItem(STORAGE_KEY);\n  97 |     const dismissedData = dismissed ? JSON.parse(dismissed) : {};","line":94,"column":5,"nodeType":null,"endLine":94,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useCallback, useMemo } from \"react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { \r\n  Megaphone, \r\n  Sparkles, \r\n  Gift, \r\n  ArrowRight, \r\n  X,\r\n  Bell,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Play,\r\n  Pause,\r\n  Check,\r\n} from \"lucide-react\";\r\nimport { Button, Badge } from \"@/components/ui\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface SlideItem {\r\n  id: string;\r\n  type: \"image\" | \"video\";\r\n  src: string;\r\n  title?: string;\r\n  description?: string;\r\n  link?: string;\r\n  linkText?: string;\r\n}\r\n\r\ninterface Announcement {\r\n  id: string;\r\n  type: \"promotion\" | \"update\" | \"news\" | \"event\";\r\n  title: string;\r\n  description: string;\r\n  slides: SlideItem[];\r\n  badge?: string;\r\n  expiresAt?: Date;\r\n}\r\n\r\n// Mock announcements with slides - ‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å API ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï\r\nconst announcements: Announcement[] = [\r\n  {\r\n    id: \"promo-dec-2024\",\r\n    type: \"promotion\",\r\n    title: \"üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà QR STUDIO!\",\r\n    description: \"‡πÅ‡∏´‡∏•‡πà‡∏á‡∏£‡∏ß‡∏° Script ‡πÅ‡∏•‡∏∞ UI ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö FiveM\",\r\n    badge: \"‡πÉ‡∏´‡∏°‡πà\",\r\n    slides: [\r\n      {\r\n        id: \"slide-1\",\r\n        type: \"image\",\r\n        src: \"/images/Query.Design.jpg\",\r\n        title: \"Script ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á\",\r\n        description: \"‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û\",\r\n        link: \"/products\",\r\n        linkText: \"‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\",\r\n      },\r\n      {\r\n        id: \"slide-2\",\r\n        type: \"video\",\r\n        src: \"https://www.youtube.com/embed/dQw4w9WgXcQ\",\r\n        title: \"‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô\",\r\n        description: \"‡∏î‡∏π‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏™‡∏≤‡∏ò‡∏¥‡∏ï‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Script\",\r\n      },\r\n      {\r\n        id: \"slide-3\",\r\n        type: \"image\",\r\n        src: \"/images/Query.Design.png\",\r\n        title: \"‡∏£‡∏±‡∏ö‡∏ó‡∏≥ UI ‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á\",\r\n        description: \"‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö UI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì\",\r\n        link: \"/commission\",\r\n        linkText: \"‡∏™‡∏±‡πà‡∏á‡∏ó‡∏≥ UI\",\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nconst STORAGE_KEY = \"qr-studio-announcement-dismissed\";\r\nconst AUTO_SLIDE_INTERVAL = 5000; // 5 seconds\r\n\r\nexport function AnnouncementModal() {\r\n  const { t } = useTranslation(\"common\");\r\n  const [mounted, setMounted] = useState(false);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [currentAnnouncement, setCurrentAnnouncement] = useState<Announcement | null>(null);\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const [isAutoPlaying, setIsAutoPlaying] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏î \"‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏µ‡∏Å‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ\" ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á\r\n    const dismissed = localStorage.getItem(STORAGE_KEY);\r\n    const dismissedData = dismissed ? JSON.parse(dismissed) : {};\r\n    const today = new Date().toDateString();\r\n\r\n    // ‡∏´‡∏≤ announcement ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏õ‡∏¥‡∏î‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ\r\n    const activeAnnouncement = announcements.find((a) => {\r\n      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á\r\n      if (a.expiresAt && new Date(a.expiresAt) < new Date()) {\r\n        return false;\r\n      }\r\n      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏õ‡∏¥‡∏î‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á\r\n      const dismissedDate = dismissedData[a.id];\r\n      if (dismissedDate) {\r\n        const dismissedDay = new Date(dismissedDate).toDateString();\r\n        // ‡∏ñ‡πâ‡∏≤‡∏õ‡∏¥‡∏î‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á\r\n        if (dismissedDay === today) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    });\r\n\r\n    if (activeAnnouncement) {\r\n      // ‡πÅ‡∏™‡∏î‡∏á modal ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å delay ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢\r\n      const timer = setTimeout(() => {\r\n        setCurrentAnnouncement(activeAnnouncement);\r\n        setIsOpen(true);\r\n      }, 1500);\r\n\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, []);\r\n\r\n  // Auto slide\r\n  useEffect(() => {\r\n    if (!isOpen || !currentAnnouncement || !isAutoPlaying) return;\r\n\r\n    const timer = setInterval(() => {\r\n      setCurrentSlide((prev) =>\r\n        prev === currentAnnouncement.slides.length - 1 ? 0 : prev + 1\r\n      );\r\n    }, AUTO_SLIDE_INTERVAL);\r\n\r\n    return () => clearInterval(timer);\r\n  }, [isOpen, currentAnnouncement, isAutoPlaying]);\r\n\r\n  const handleClose = useCallback(() => {\r\n    // ‡πÅ‡∏Ñ‡πà‡∏õ‡∏¥‡∏î modal ‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠ refresh)\r\n    setIsOpen(false);\r\n  }, []);\r\n\r\n  const handleDontShowToday = useCallback(() => {\r\n    setIsOpen(false);\r\n    \r\n    // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡πá‡∏ô‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ\r\n    if (currentAnnouncement) {\r\n      const dismissed = localStorage.getItem(STORAGE_KEY);\r\n      const dismissedData = dismissed ? JSON.parse(dismissed) : {};\r\n      dismissedData[currentAnnouncement.id] = Date.now();\r\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(dismissedData));\r\n    }\r\n  }, [currentAnnouncement]);\r\n\r\n  const nextSlide = useCallback(() => {\r\n    if (!currentAnnouncement) return;\r\n    setCurrentSlide((prev) =>\r\n      prev === currentAnnouncement.slides.length - 1 ? 0 : prev + 1\r\n    );\r\n  }, [currentAnnouncement]);\r\n\r\n  const prevSlide = useCallback(() => {\r\n    if (!currentAnnouncement) return;\r\n    setCurrentSlide((prev) =>\r\n      prev === 0 ? currentAnnouncement.slides.length - 1 : prev - 1\r\n    );\r\n  }, [currentAnnouncement]);\r\n\r\n  const goToSlide = useCallback((index: number) => {\r\n    setCurrentSlide(index);\r\n  }, []);\r\n\r\n  const typeColor = useMemo(() => {\r\n    if (!currentAnnouncement) return \"from-red-600 to-red-400\";\r\n    switch (currentAnnouncement.type) {\r\n      case \"promotion\":\r\n        return \"from-red-600 to-red-400\";\r\n      case \"update\":\r\n        return \"from-red-600 to-red-400\";\r\n      case \"event\":\r\n        return \"from-red-700 to-red-500\";\r\n      default:\r\n        return \"from-red-600 to-red-400\";\r\n    }\r\n  }, [currentAnnouncement]);\r\n\r\n  const toggleAutoPlay = useCallback(() => {\r\n    setIsAutoPlaying(prev => !prev);\r\n  }, []);\r\n\r\n  if (!mounted || !isOpen || !currentAnnouncement) return null;\r\n\r\n  const slide = currentAnnouncement.slides[currentSlide];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n      {/* Overlay */}\r\n      <motion.div\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n        className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\"\r\n        onClick={handleClose}\r\n      />\r\n\r\n      {/* Modal */}\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.9, y: 20 }}\r\n        animate={{ opacity: 1, scale: 1, y: 0 }}\r\n        exit={{ opacity: 0, scale: 0.9, y: 20 }}\r\n        transition={{ type: \"spring\", duration: 0.5 }}\r\n        className=\"relative w-full max-w-2xl\"\r\n      >\r\n        {/* Glow Effect */}\r\n        <div className={`absolute -inset-1 bg-linear-to-r ${typeColor} rounded-3xl blur-xl opacity-30`} />\r\n        \r\n        <div className=\"relative rounded-3xl bg-black/95 backdrop-blur-2xl border border-white/5 overflow-hidden shadow-2xl shadow-red-900/20\">\r\n          {/* Close Button */}\r\n          <button\r\n            onClick={handleClose}\r\n            className=\"absolute top-5 right-5 z-30 p-2.5 rounded-2xl text-gray-400 hover:text-white hover:bg-red-600/20 hover:border-red-500/30 border border-transparent transition-all duration-300\"\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n\r\n          {/* Badge */}\r\n          {currentAnnouncement.badge && (\r\n            <div className=\"absolute top-5 left-5 z-30\">\r\n              <Badge className=\"bg-red-600 text-white border-none shadow-lg shadow-red-600/20 px-4 py-1.5 font-black uppercase tracking-widest text-[10px] rounded-xl\">\r\n                {currentAnnouncement.badge}\r\n              </Badge>\r\n            </div>\r\n          )}\r\n\r\n          {/* Slide Content */}\r\n          <div className=\"relative aspect-video group\">\r\n            <AnimatePresence mode=\"wait\">\r\n              <motion.div\r\n                key={slide.id}\r\n                initial={{ opacity: 0, scale: 1.05 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.95 }}\r\n                transition={{ duration: 0.6, ease: [0.22, 1, 0.36, 1] }}\r\n                className=\"absolute inset-0\"\r\n              >\r\n                {slide.type === \"image\" ? (\r\n                  <Image\r\n                    src={slide.src}\r\n                    alt={slide.title || \"Slide\"}\r\n                    fill\r\n                    className=\"object-cover transition-transform duration-10000 group-hover:scale-110\"\r\n                  />\r\n                ) : (\r\n                  <iframe\r\n                    src={slide.src}\r\n                    title={slide.title || \"Video\"}\r\n                    className=\"w-full h-full\"\r\n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                    allowFullScreen\r\n                  />\r\n                )}\r\n                \r\n                {/* Overlay gradient */}\r\n                <div className=\"absolute inset-0 bg-linear-to-t from-black via-black/20 to-transparent opacity-80\" />\r\n              </motion.div>\r\n            </AnimatePresence>\r\n\r\n            {/* Navigation Arrows */}\r\n            {currentAnnouncement.slides.length > 1 && (\r\n              <div className=\"absolute inset-x-0 top-1/2 -translate-y-1/2 z-20 flex justify-between px-4 opacity-0 group-hover:opacity-100 transition-opacity duration-500\">\r\n                <button\r\n                  onClick={prevSlide}\r\n                  className=\"p-3 rounded-2xl bg-black/60 text-white hover:bg-red-600 transition-all duration-300 backdrop-blur-md border border-white/5 hover:border-red-500/50\"\r\n                >\r\n                  <ChevronLeft className=\"w-6 h-6\" />\r\n                </button>\r\n                <button\r\n                  onClick={nextSlide}\r\n                  className=\"p-3 rounded-2xl bg-black/60 text-white hover:bg-red-600 transition-all duration-300 backdrop-blur-md border border-white/5 hover:border-red-500/50\"\r\n                >\r\n                  <ChevronRight className=\"w-6 h-6\" />\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {/* Auto-play toggle */}\r\n            <button\r\n              onClick={toggleAutoPlay}\r\n              className=\"absolute bottom-6 right-6 z-20 p-2.5 rounded-xl bg-black/60 text-white hover:bg-red-600 transition-all duration-300 backdrop-blur-md border border-white/5\"\r\n              title={isAutoPlaying ? \"‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥\" : \"‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥\"}\r\n            >\r\n              {isAutoPlaying ? (\r\n                <Pause className=\"w-4 h-4\" />\r\n              ) : (\r\n                <Play className=\"w-4 h-4\" />\r\n              )}\r\n            </button>\r\n\r\n            {/* Slide Indicators inside video area */}\r\n            {currentAnnouncement.slides.length > 1 && (\r\n              <div className=\"absolute bottom-6 left-1/2 -translate-x-1/2 z-20 flex items-center gap-2.5\">\r\n                {currentAnnouncement.slides.map((_, index) => (\r\n                  <button\r\n                    key={index}\r\n                    onClick={() => goToSlide(index)}\r\n                    className=\"group py-2\"\r\n                  >\r\n                    <div className={cn(\r\n                      \"h-1.5 rounded-full transition-all duration-500 shadow-lg\",\r\n                      index === currentSlide ? \"w-8 bg-red-500\" : \"w-2 bg-white/30 group-hover:bg-white/60\"\r\n                    )} />\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Content Footer Area */}\r\n          <div className=\"p-8 md:p-10 relative\">\r\n            <AnimatePresence mode=\"wait\">\r\n              <motion.div\r\n                key={`content-${currentSlide}`}\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -10 }}\r\n                transition={{ duration: 0.3 }}\r\n              >\r\n                <h2 className=\"text-2xl font-black text-white mb-2 tracking-tight\">\r\n                  {slide.title || currentAnnouncement.title}\r\n                </h2>\r\n                <p className=\"text-gray-400 text-sm leading-relaxed mb-6 max-w-xl\">\r\n                  {slide.description || currentAnnouncement.description}\r\n                </p>\r\n              </motion.div>\r\n            </AnimatePresence>\r\n\r\n            <div className=\"flex flex-col sm:flex-row items-center justify-between gap-6\">\r\n              <div className=\"flex items-center gap-4 w-full sm:w-auto\">\r\n                {slide.link && (\r\n                  <Link href={slide.link} onClick={handleClose} className=\"w-full sm:w-auto\">\r\n                    <Button size=\"xl\" className=\"w-full sm:w-auto bg-red-600 hover:bg-red-500 text-white font-black h-12 px-8 rounded-xl shadow-xl shadow-red-600/20 group text-sm\">\r\n                      <span>{slide.linkText || \"‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏•‡∏¢\"}</span>\r\n                      <ArrowRight className=\"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1\" />\r\n                    </Button>\r\n                  </Link>\r\n                )}\r\n              </div>\r\n\r\n              <button\r\n                onClick={handleDontShowToday}\r\n                className=\"text-xs font-bold text-gray-500 hover:text-red-400 transition-colors uppercase tracking-widest flex items-center gap-2 group\"\r\n              >\r\n                <div className=\"w-4 h-4 rounded border border-gray-700 group-hover:border-red-500/50 flex items-center justify-center transition-colors\">\r\n                  <Check className=\"w-2.5 h-2.5 opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                </div>\r\n                ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏µ‡∏Å‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\components\\home\\commission-cta.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\components\\home\\commission-cta.tsx:15:5\n  13 |\n  14 |   useEffect(() => {\n> 15 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  16 |   }, []);\n  17 |\n  18 |   const benefits = [","line":15,"column":5,"nodeType":null,"endLine":15,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport Link from \"next/link\";\r\nimport { Palette, CheckCircle, ArrowRight } from \"lucide-react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Button, Badge } from \"@/components/ui\";\r\n\r\nexport function CommissionCTA() {\r\n  const { t } = useTranslation(\"common\");\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const benefits = [\r\n    t(\"commission.benefits.custom\"),\r\n    t(\"commission.benefits.framework\"),\r\n    t(\"commission.benefits.unlimited\"),\r\n    t(\"commission.benefits.ontime\"),\r\n  ];\r\n  const renderTranslation = (key: string) => {\r\n    if (!mounted) return \"\";\r\n    return t(key);\r\n  };\r\n\r\n  if (!mounted) return null;\r\n\r\n  return (\r\n    <section className=\"py-20 relative overflow-hidden\">\r\n      {/* Background */}\r\n      <div className=\"absolute inset-0 bg-linear-to-r from-red-900/30 via-red-600/20 to-red-900/30\" />\r\n      <div className=\"absolute inset-0 bg-[url('/grid.svg')] opacity-10\" />\r\n\r\n      <div className=\"container mx-auto relative\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ once: true }}\r\n            className=\"rounded-3xl bg-white/5 backdrop-blur-xl border border-white/10 p-8 md:p-12\"\r\n          >\r\n            <div className=\"flex flex-col md:flex-row items-center gap-8\">\r\n              {/* Icon */}\r\n              <div className=\"shrink-0 relative group\">\r\n                <div className=\"absolute -inset-4 bg-red-600/20 rounded-full blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500\" />\r\n                <div className=\"relative w-24 h-20 rounded-3xl bg-linear-to-br from-red-600 to-red-800 flex items-center justify-center shadow-2xl shadow-red-600/40 transition-transform duration-500 group-hover:scale-110 group-hover:rotate-3 border border-white/10\">\r\n                  <Palette className=\"w-10 h-10 text-white\" />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Content */}\r\n              <div className=\"flex-1 text-center md:text-left\">\r\n                <Badge className=\"bg-red-500/10 text-red-500 border-red-500/20 mb-4 px-3 py-1 text-[10px] uppercase font-black tracking-widest\">\r\n                  {renderTranslation(\"commission.badge\")}\r\n                </Badge>\r\n                <h2 className=\"text-2xl md:text-4xl font-black text-white mb-4 tracking-tighter\">\r\n                  {renderTranslation(\"commission.title\")}\r\n                </h2>\r\n                <p className=\"text-gray-400 text-base mb-8 leading-relaxed\">\r\n                  {renderTranslation(\"commission.desc\")}\r\n                </p>\r\n\r\n                {/* Benefits */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-10\">\r\n                  {benefits.map((benefit, index) => (\r\n                    <div key={index} className=\"flex items-center gap-3 group/item\">\r\n                      <div className=\"w-6 h-6 rounded-full bg-red-500/10 flex items-center justify-center border border-red-500/20 group-hover/item:bg-red-500 group-hover/item:border-red-500 transition-all duration-300\">\r\n                        <CheckCircle className=\"w-3.5 h-3.5 text-red-500 group-hover/item:text-white transition-colors\" />\r\n                      </div>\r\n                      <span className=\"text-sm font-bold text-gray-300 group-hover/item:text-white transition-colors\">{benefit}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                <Link href=\"/commission\">\r\n                  <Button size=\"xl\" className=\"group bg-red-600 hover:bg-red-500 text-white font-black h-12 px-8 rounded-xl shadow-xl shadow-red-600/20 transition-all text-sm\">\r\n                    <span>{renderTranslation(\"commission.cta\")}</span>\r\n                    <ArrowRight className=\"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1\" />\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\components\\home\\hero-section.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\components\\home\\hero-section.tsx:16:5\n  14 |\n  15 |   useEffect(() => {\n> 16 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  17 |   }, []);\n  18 |\n  19 |   const renderTranslation = (key: string) => {","line":16,"column":5,"nodeType":null,"endLine":16,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { memo, useState, useEffect } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { ArrowRight, Sparkles, Code, Palette } from \"lucide-react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Button } from \"@/components/ui\";\r\n\r\nexport const HeroSection = memo(function HeroSection() {\r\n  const { t } = useTranslation(\"common\");\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const renderTranslation = (key: string) => {\r\n    if (!mounted) return \"\";\r\n    return t(key);\r\n  };\r\n\r\n  if (!mounted) return null;\r\n\r\n  return (\r\n    <section className=\"relative min-h-screen flex items-center justify-center overflow-hidden\">\r\n      {/* Background Image */}\r\n      <div className=\"absolute inset-0\">\r\n        <Image\r\n          src=\"/images/Query.Design.jpg\"\r\n          alt=\"QR Studio Background\"\r\n          fill\r\n          className=\"object-cover opacity-30\"\r\n          priority\r\n        />\r\n        {/* Overlay */}\r\n        <div className=\"absolute inset-0 bg-black/60\" />\r\n        \r\n        {/* Gradient Orbs */}\r\n        <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-red-600/30 rounded-full blur-[128px] animate-pulse\" />\r\n        <div className=\"absolute bottom-1/4 right-1/4 w-96 h-96 bg-red-400/20 rounded-full blur-[128px] animate-pulse delay-1000\" />\r\n        \r\n        {/* Grid Pattern */}\r\n        <div \r\n          className=\"absolute inset-0 opacity-20\"\r\n          style={{\r\n            backgroundImage: `linear-gradient(rgba(239, 68, 68, 0.1) 1px, transparent 1px),\r\n                              linear-gradient(90deg, rgba(239, 68, 68, 0.1) 1px, transparent 1px)`,\r\n            backgroundSize: '50px 50px'\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"container mx-auto relative z-10 mt-16\">\r\n        <div className=\"max-w-4xl mx-auto text-center\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5 }}\r\n          >\r\n            <span className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-red-500/10 border border-red-500/20 text-red-400 text-sm font-medium mb-8\">\r\n              <Sparkles className=\"w-4 h-4\" />\r\n              {renderTranslation(\"hero.badge\")}\r\n            </span>\r\n          </motion.div>\r\n\r\n            <h1 className=\"text-3xl md:text-5xl lg:text-6xl font-black text-white mb-6 leading-tight tracking-tighter\">\r\n              {renderTranslation(\"hero.title_1\")}\r\n              <br />\r\n              <span className=\"text-transparent bg-clip-text bg-linear-to-r from-red-500 via-red-400 to-red-700 animate-gradient\">\r\n                {renderTranslation(\"hero.title_2\")}\r\n              </span>\r\n            </h1>\r\n\r\n          <motion.p\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.2 }}\r\n            className=\"text-base md:text-xl text-gray-400 mb-10 max-w-xl mx-auto leading-relaxed\"\r\n          >\r\n            {renderTranslation(\"hero.description\")}\r\n          </motion.p>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.3 }}\r\n            className=\"flex flex-col sm:flex-row items-center justify-center gap-4\"\r\n          >\r\n            <Link href=\"/products\">\r\n              <Button size=\"xl\" className=\"group bg-red-600 hover:bg-red-500 text-white border-none shadow-2xl shadow-red-600/40 h-14 px-8 text-base font-black rounded-2xl\">\r\n                {renderTranslation(\"hero.cta_shop\")}\r\n                <ArrowRight className=\"w-5 h-5 transition-transform group-hover:translate-x-1\" />\r\n              </Button>\r\n            </Link>\r\n            <Link href=\"/commission\">\r\n              <Button variant=\"secondary\" size=\"xl\" className=\"h-14 px-8 text-base font-bold rounded-2xl bg-white/5 border-white/10 hover:bg-white/10 backdrop-blur-md\">\r\n                <Palette className=\"w-5 h-5 mr-2 text-red-500\" />\r\n                {renderTranslation(\"hero.cta_ui\")}\r\n              </Button>\r\n            </Link>\r\n          </motion.div>\r\n\r\n          {/* Features */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.4 }}\r\n            className=\"mt-16 grid grid-cols-1 sm:grid-cols-3 gap-6\"\r\n          >\r\n            {[\r\n              { icon: Code, label: renderTranslation(\"hero.features.script.title\"), desc: renderTranslation(\"hero.features.script.desc\") },\r\n              { icon: Palette, label: renderTranslation(\"hero.features.ui.title\"), desc: renderTranslation(\"hero.features.ui.desc\") },\r\n              { icon: Sparkles, label: renderTranslation(\"hero.features.update.title\"), desc: renderTranslation(\"hero.features.update.desc\") },\r\n            ].map((feature, index) => {\r\n              const Icon = feature.icon;\r\n              return (\r\n                <div\r\n                  key={index}\r\n                  className=\"flex flex-col items-center gap-3 p-6 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10\"\r\n                >\r\n                  <div className=\"w-12 h-12 rounded-xl bg-red-500/20 flex items-center justify-center\">\r\n                    <Icon className=\"w-6 h-6 text-red-400\" />\r\n                  </div>\r\n                  <h3 className=\"font-semibold text-white\">{feature.label}</h3>\r\n                  <p className=\"text-sm text-gray-400\">{feature.desc}</p>\r\n                </div>\r\n              );\r\n            })}\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Scroll Indicator - Removed because it looks like a loading dot */}\r\n      {/* \r\n      <motion.div\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        transition={{ delay: 1 }}\r\n        className=\"absolute bottom-8 left-1/2 -translate-x-1/2\"\r\n      >\r\n        <div className=\"w-6 h-10 rounded-full border-2 border-white/20 flex items-start justify-center p-2\">\r\n          <motion.div\r\n            animate={{ y: [0, 12, 0] }}\r\n            transition={{ duration: 1.5, repeat: 99999 }}\r\n            className=\"w-1.5 h-1.5 rounded-full bg-red-400\"\r\n          />\r\n        </div>\r\n      </motion.div>\r\n      */}\r\n    </section>\r\n  );\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\components\\home\\team-section.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\components\\home\\team-section.tsx:63:5\n  61 |\n  62 |   useEffect(() => {\n> 63 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  64 |   }, []);\n  65 |\n  66 |   const renderedTeam = useMemo(() => teamMembers.map((member, index) => {","line":63,"column":5,"nodeType":null,"endLine":63,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { memo, useMemo, useState, useEffect } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport Image from \"next/image\";\r\nimport { Code, Palette, Database, Globe, Box, Sparkles } from \"lucide-react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Badge } from \"@/components/ui\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst teamMembers = [\r\n  {\r\n    name: \"Endless\",\r\n    role: \"Full-Stack Developer\",\r\n    avatar: \"/images/team/member1.jpg\",\r\n    color: \"red\",\r\n    icon: Code,\r\n  },\r\n  {\r\n    name: \"DEV 1\",\r\n    role: \"UI/UX Designer\",\r\n    avatar: null,\r\n    color: \"red\",\r\n    icon: Palette,\r\n  },\r\n  {\r\n    name: \"DEV 2\",\r\n    role: \"Backend Developer\",\r\n    avatar: null,\r\n    color: \"red\",\r\n    icon: Database,\r\n  },\r\n  {\r\n    name: \"DEV 3\",\r\n    role: \"Frontend Developer\",\r\n    avatar: null,\r\n    color: \"red\",\r\n    icon: Globe,\r\n  },\r\n  {\r\n    name: \"DEV 4\",\r\n    role: \"3D Artist\",\r\n    avatar: null,\r\n    color: \"red\",\r\n    icon: Box,\r\n  },\r\n];\r\n\r\nconst colorVariants: Record<string, { dot: string; border: string; bg: string; text: string }> = {\r\n  red: {\r\n    dot: \"bg-red-500\",\r\n    border: \"border-red-500/50 hover:border-red-500\",\r\n    bg: \"bg-red-500/20\",\r\n    text: \"text-red-400\",\r\n  },\r\n};\r\n\r\nexport const TeamSection = memo(function TeamSection() {\r\n  const { t } = useTranslation(\"common\");\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const renderedTeam = useMemo(() => teamMembers.map((member, index) => {\r\n    const colors = colorVariants[member.color];\r\n    const Icon = member.icon;\r\n    \r\n    return (\r\n      <motion.div\r\n        key={index}\r\n        initial={{ opacity: 0, y: 20 }}\r\n        whileInView={{ opacity: 1, y: 0 }}\r\n        viewport={{ once: true }}\r\n        transition={{ duration: 0.5, delay: index * 0.1 }}\r\n        className=\"group\"\r\n      >\r\n        <div\r\n          className={cn(\r\n            \"relative p-5 rounded-4xl bg-white/2 backdrop-blur-xl border-2 transition-all duration-500 hover:bg-white/5 shadow-2xl\",\r\n            colors.border\r\n          )}\r\n        >\r\n          {/* Status Dot */}\r\n          <div className=\"absolute -top-1.5 left-1/2 -translate-x-1/2 z-20\">\r\n            <div className=\"relative\">\r\n              <span className={cn(\"block w-3.5 h-3.5 rounded-full border-2 border-black shadow-2xl\", colors.dot)} />\r\n              <span className={cn(\"absolute inset-0 rounded-full animate-ping opacity-40\", colors.dot)} />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"relative aspect-square rounded-3xl overflow-hidden mb-5 bg-black/40 border border-white/5 group-hover:border-red-500/30 transition-all duration-500\">\r\n            {member.avatar ? (\r\n              <Image\r\n                src={member.avatar}\r\n                alt={member.name}\r\n                fill\r\n                className=\"object-cover transition-transform duration-700 group-hover:scale-110 group-hover:rotate-2\"\r\n              />\r\n            ) : (\r\n              <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                <div className={cn(\"w-16 h-16 rounded-2xl flex items-center justify-center shadow-inner transition-transform duration-500 group-hover:scale-110\", colors.bg)}>\r\n                  <Icon className={cn(\"w-8 h-8\", colors.text)} />\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            {/* Hover Overlay */}\r\n            <div className=\"absolute inset-0 bg-linear-to-t from-red-900/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500\" />\r\n          </div>\r\n\r\n          {/* Info */}\r\n          <div className=\"text-center relative z-10\">\r\n            <h3 className=\"font-black text-white text-lg mb-1 group-hover:text-red-400 transition-colors\">{member.name}</h3>\r\n            <div\r\n              className={cn(\r\n                \"inline-block px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border border-transparent transition-all duration-500 group-hover:border-current group-hover:bg-transparent\",\r\n                colors.bg,\r\n                colors.text\r\n              )}\r\n            >\r\n              {member.role}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    );\r\n  }), []);\r\n\r\n  const renderTranslation = (key: string) => {\r\n    if (!mounted) return \"\";\r\n    return t(key);\r\n  };\r\n\r\n  if (!mounted) return null;\r\n\r\n  return (\r\n    <section className=\"py-24 relative overflow-hidden\">\r\n      {/* Background */}\r\n      <div className=\"absolute inset-0 bg-linear-to-b from-transparent via-red-900/5 to-transparent pointer-events-none\" />\r\n      <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-red-600/5 rounded-full blur-[160px] opacity-50\" />\r\n\r\n      <div className=\"container mx-auto px-4 relative z-10\">\r\n        {/* Header */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ once: true }}\r\n          className=\"text-center mb-20\"\r\n        >\r\n          <Badge className=\"bg-red-500/10 text-red-500 border-red-500/20 px-4 py-1.5 text-xs font-black uppercase tracking-[0.2em] mb-6\">\r\n            <Sparkles className=\"w-4 h-4 mr-2\" />\r\n            {renderTranslation(\"team.creative_force\")}\r\n          </Badge>\r\n          <h2 className=\"text-3xl md:text-5xl font-black text-white mb-6 tracking-tight leading-tight\">\r\n            {renderTranslation(\"team.title_1\")}\r\n            <br />\r\n            {renderTranslation(\"team.title_2\")} <span className=\"text-transparent bg-clip-text bg-linear-to-r from-red-500 via-red-400 to-red-700 animate-gradient\">QR STUDIO</span>\r\n          </h2>\r\n          <p className=\"text-gray-400 text-base max-w-2xl mx-auto leading-relaxed\">\r\n            {renderTranslation(\"team.desc\")}\r\n          </p>\r\n        </motion.div>\r\n\r\n        {/* Team Grid */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8\">\r\n          {renderedTeam}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\components\\layout\\footer.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\components\\layout\\footer.tsx:19:5\n  17 |\n  18 |   useEffect(() => {\n> 19 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  20 |   }, []);\n  21 |\n  22 |   const footerLinks = {","line":19,"column":5,"nodeType":null,"endLine":19,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport {\r\n  MessageCircle,\r\n  Mail,\r\n  Heart,\r\n  ExternalLink\r\n} from \"lucide-react\";\r\n\r\nexport function Footer() {\r\n  const { t } = useTranslation(\"common\");\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const footerLinks = {\r\n    products: [\r\n      { label: t(\"footer.links.products.script\"), href: \"/products?category=SCRIPT\" },\r\n      { label: t(\"footer.links.products.ui\"), href: \"/products?category=UI\" },\r\n      { label: t(\"footer.links.products.bundle\"), href: \"/products?category=BUNDLE\" },\r\n      { label: t(\"footer.links.products.commission\"), href: \"/commission\" },\r\n    ],\r\n    support: [\r\n      { label: t(\"footer.links.support.contact\"), href: \"/contact\" },\r\n      { label: t(\"footer.links.support.faq\"), href: \"/faq\" },\r\n      { label: t(\"footer.links.support.payment\"), href: \"/payment-guide\" },\r\n      { label: t(\"footer.links.support.refund\"), href: \"/refund-policy\" },\r\n    ],\r\n    legal: [\r\n      { label: t(\"footer.links.legal.terms\"), href: \"/terms\" },\r\n      { label: t(\"footer.links.legal.privacy\"), href: \"/privacy\" },\r\n      { label: t(\"footer.links.legal.license\"), href: \"/license-policy\" },\r\n    ],\r\n  };\r\n\r\n  if (!mounted) return null;\r\n\r\n  return (\r\n    <footer className=\"relative mt-20 border-t border-white/10 bg-black/50 backdrop-blur-xl\">\r\n      {/* Gradient overlay */}\r\n      <div className=\"absolute inset-0 bg-linear-to-t from-red-900/10 to-transparent pointer-events-none\" />\r\n\r\n      <div className=\"container mx-auto px-4 py-12 relative\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n          {/* Brand */}\r\n          <div className=\"space-y-4\">\r\n            <Link href=\"/\" className=\"flex items-center gap-2\">\r\n              <Image\r\n                src=\"/images/Query.Design.png\"\r\n                alt=\"QR Studio Logo\"\r\n                width={40}\r\n                height={40}\r\n                className=\"rounded-xl\"\r\n              />\r\n              <span className=\"text-xl font-bold text-white\">QR STUDIO</span>\r\n            </Link>\r\n            <p className=\"text-gray-400 text-sm\">\r\n              {t(\"footer.brand_desc\")}\r\n            </p>\r\n            <div className=\"flex items-center gap-3\">\r\n              <a\r\n                href=\"https://discord.gg/rQxc8ZNYE6\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"w-10 h-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-gray-400 hover:text-red-400 hover:border-red-500/50 transition-all\"\r\n              >\r\n                <MessageCircle className=\"w-5 h-5\" />\r\n              </a>\r\n              <a\r\n                href=\"mailto:support@qrstudio.com\"\r\n                className=\"w-10 h-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-gray-400 hover:text-red-400 hover:border-red-500/50 transition-all\"\r\n              >\r\n                <Mail className=\"w-5 h-5\" />\r\n              </a>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Products */}\r\n          <div>\r\n            <h3 className=\"text-white font-semibold mb-4\">{t(\"footer.sections.products\")}</h3>\r\n            <ul className=\"space-y-2\">\r\n              {footerLinks.products.map((link) => (\r\n                <li key={link.href}>\r\n                  <Link\r\n                    href={link.href}\r\n                    className=\"text-gray-400 text-sm hover:text-red-400 transition-colors\"\r\n                  >\r\n                    {link.label}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Support */}\r\n          <div>\r\n            <h3 className=\"text-white font-semibold mb-4\">{t(\"footer.sections.support\")}</h3>\r\n            <ul className=\"space-y-2\">\r\n              {footerLinks.support.map((link) => (\r\n                <li key={link.href}>\r\n                  <Link\r\n                    href={link.href}\r\n                    className=\"text-gray-400 text-sm hover:text-red-400 transition-colors\"\r\n                  >\r\n                    {link.label}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Legal */}\r\n          <div>\r\n            <h3 className=\"text-white font-semibold mb-4\">{t(\"footer.sections.legal\")}</h3>\r\n            <ul className=\"space-y-2\">\r\n              {footerLinks.legal.map((link) => (\r\n                <li key={link.href}>\r\n                  <Link\r\n                    href={link.href}\r\n                    className=\"text-gray-400 text-sm hover:text-red-400 transition-colors\"\r\n                  >\r\n                    {link.label}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bottom */}\r\n        <div className=\"mt-12 pt-8 border-t border-white/10 flex flex-col md:flex-row items-center justify-between gap-4\">\r\n          <p className=\"text-gray-500 text-sm\">\r\n            ¬© {new Date().getFullYear()} QR STUDIO. {t(\"footer.rights_reserved\")}\r\n          </p>\r\n          <p className=\"text-gray-500 text-sm\">\r\n            {t(\"footer.made_with\")} {t(\"footer.in_thailand\")}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\components\\layout\\navbar.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\components\\layout\\navbar.tsx:71:5\n  69 |\n  70 |   useEffect(() => {\n> 71 |     setIsMounted(true);\n     |     ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  72 |     // Check cookie immediately on mount to prevent flicker\n  73 |     const token = getAuthToken();\n  74 |     if (token) {","line":71,"column":5,"nodeType":null,"endLine":71,"endColumn":17},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\components\\layout\\navbar.tsx:92:7\n  90 |   useEffect(() => {\n  91 |     if (!loading && user) {\n> 92 |       setIsUserReady(true);\n     |       ^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  93 |       setIsOptimisticAuth(true);\n  94 |     } else if (!loading && !user) {\n  95 |       setIsUserReady(false);","line":92,"column":7,"nodeType":null,"endLine":92,"endColumn":21}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport { signOut } from \"next-auth/react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport {\r\n  Menu,\r\n  X,\r\n  ShoppingCart,\r\n  Bell,\r\n  User,\r\n  LogIn,\r\n  LogOut,\r\n  Home,\r\n  Package,\r\n  Palette,\r\n  Wallet,\r\n  ChevronDown,\r\n  Globe,\r\n  Mail,\r\n  Heart,\r\n  Megaphone,\r\n  Star,\r\n  Languages,\r\n  Blocks\r\n} from \"lucide-react\";\r\nimport { Button, Badge } from \"@/components/ui\";\r\nimport { useCartStore } from \"@/store/cart\";\r\nimport { useNotificationStore } from \"@/store/notification\";\r\nimport { useWishlistStore } from \"@/store/wishlist\";\r\nimport { useAuth } from \"@/hooks/useAuth\";\r\nimport { getAuthToken, clearBackendSession, eraseCookie } from \"@/lib/auth-helper\";\r\nimport { cn, getTierInfo } from \"@/lib/utils\";\r\n\r\nconst navLinks = [\r\n  { href: \"/\", labelKey: \"nav.home\", icon: Home },\r\n  { href: \"/products\", labelKey: \"nav.products\", icon: Package },\r\n  {\r\n    labelKey: \"nav.services\",\r\n    icon: Blocks,\r\n    dropdown: [\r\n      { href: \"/commission\", labelKey: \"nav.ui_service\", icon: Palette },\r\n      { href: \"/web-design\", labelKey: \"nav.web_service\", icon: Globe },\r\n    ]\r\n  },\r\n  { href: \"/announcements\", labelKey: \"nav.announcements\", icon: Megaphone },\r\n  { href: \"/contact\", labelKey: \"nav.contact\", icon: Mail },\r\n];\r\n\r\nexport function Navbar() {\r\n  const { t, i18n } = useTranslation('common');\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isScrolled, setIsScrolled] = useState(false);\r\n  const [showNotifications, setShowNotifications] = useState(false);\r\n  const [showUserMenu, setShowUserMenu] = useState(false);\r\n  const [isMounted, setIsMounted] = useState(false);\r\n  const [isUserReady, setIsUserReady] = useState(false);\r\n  const [isOptimisticAuth, setIsOptimisticAuth] = useState(false);\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const itemCount = useCartStore((state) => state.getItemCount());\r\n  const wishlistCount = useWishlistStore((state) => state.items.length);\r\n  const { notifications, unreadCount, markAsRead, markAllAsRead, fetchNotifications } = useNotificationStore();\r\n  const { user, loading, isSyncing, isAuthenticated: isAuthFromHook, logout } = useAuth();\r\n\r\n  useEffect(() => {\r\n    setIsMounted(true);\r\n    // Check cookie immediately on mount to prevent flicker\r\n    const token = getAuthToken();\r\n    if (token) {\r\n      setIsOptimisticAuth(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchNotifications();\r\n    }\r\n  }, [user, fetchNotifications]);\r\n\r\n  const renderTranslation = (key: string) => {\r\n    if (!isMounted) return null;\r\n    return t(key);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!loading && user) {\r\n      setIsUserReady(true);\r\n      setIsOptimisticAuth(true);\r\n    } else if (!loading && !user) {\r\n      setIsUserReady(false);\r\n      setIsOptimisticAuth(false);\r\n    }\r\n  }, [loading, user]);\r\n\r\n  const isAuthenticated = isOptimisticAuth || isAuthFromHook;\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setIsScrolled(window.scrollY > 20);\r\n    };\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n  }, []);\r\n\r\n  const handleLogout = async () => {\r\n    await logout();\r\n  };\r\n\r\n  return (\r\n    <header\r\n      className={cn(\r\n        \"fixed top-0 left-0 right-0 z-50 transition-all duration-300 border-b\",\r\n        isScrolled\r\n          ? \"bg-black/80 backdrop-blur-xl border-white/10\"\r\n          : \"bg-transparent border-transparent\"\r\n      )}\r\n    >\r\n      <nav className=\"container mx-auto px-4 h-16 flex items-center justify-between gap-4\">\r\n        {/* Logo */}\r\n        <Link href=\"/\" className=\"flex items-center gap-2 shrink-0\">\r\n          <Image\r\n            src=\"/images/Query.Design.png\"\r\n            alt=\"QR Studio Logo\"\r\n            width={40}\r\n            height={40}\r\n            className=\"rounded-xl\"\r\n          />\r\n          <span className=\"text-xl font-bold text-white hidden lg:block\">\r\n            QR STUDIO\r\n          </span>\r\n        </Link>\r\n\r\n        {/* Desktop Navigation */}\r\n        <div className=\"hidden xl:flex items-center justify-center flex-1 min-w-0 px-2\">\r\n          <div className=\"flex items-center gap-1 py-1\">\r\n            {navLinks.map((link) => {\r\n              const Icon = link.icon;\r\n              \r\n              if (link.dropdown) {\r\n                const isAnyActive = link.dropdown.some(item => pathname === item.href);\r\n                return (\r\n                  <div key={link.labelKey} className=\"relative group/dropdown\">\r\n                    <button\r\n                      className={cn(\r\n                        \"flex items-center gap-2 px-3 lg:px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300\",\r\n                        isAnyActive\r\n                          ? \"bg-red-500/10 text-red-500 shadow-[0_0_15px_-3px_RGBA(239,68,68,0.3)]\"\r\n                          : \"text-gray-300 hover:bg-white/5 hover:text-white\"\r\n                      )}\r\n                    >\r\n                      <Icon className=\"w-4 h-4 shrink-0\" />\r\n                      <span className=\"whitespace-nowrap\">{renderTranslation(link.labelKey)}</span>\r\n                      <ChevronDown className=\"w-4 h-4 transition-transform duration-300 group-hover/dropdown:rotate-180\" />\r\n                    </button>\r\n                    \r\n                    {/* Dropdown Menu */}\r\n                    <div className=\"absolute top-full left-0 pt-2 opacity-0 translate-y-2 pointer-events-none group-hover/dropdown:opacity-100 group-hover/dropdown:translate-y-0 group-hover/dropdown:pointer-events-auto transition-all duration-300 z-50\">\r\n                      <div className=\"bg-black/90 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl overflow-hidden min-w-[200px] p-1.5\">\r\n                        {link.dropdown.map((item) => {\r\n                          const DropdownIcon = item.icon;\r\n                          const isItemActive = pathname === item.href;\r\n                          return (\r\n                            <Link\r\n                              key={item.href}\r\n                              href={item.href}\r\n                              className={cn(\r\n                                \"flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200\",\r\n                                isItemActive\r\n                                  ? \"bg-red-500/10 text-red-500\"\r\n                                  : \"text-gray-400 hover:bg-white/5 hover:text-white\"\r\n                              )}\r\n                            >\r\n                              <DropdownIcon className=\"w-4 h-4\" />\r\n                              <span className=\"whitespace-nowrap\">{renderTranslation(item.labelKey)}</span>\r\n                            </Link>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              }\r\n\r\n              const isActive = pathname === link.href;\r\n              return (\r\n                <Link\r\n                  key={link.href}\r\n                  href={link.href}\r\n                  className={cn(\r\n                    \"flex items-center gap-2 px-3 lg:px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 shrink-0\",\r\n                    isActive\r\n                      ? \"bg-red-500/10 text-red-500 shadow-[0_0_15px_-3px_RGBA(239,68,68,0.3)]\"\r\n                      : \"text-gray-300 hover:bg-white/5 hover:text-white\"\r\n                  )}\r\n                >\r\n                  <Icon className=\"w-4 h-4 shrink-0\" />\r\n                  <span className=\"whitespace-nowrap\">{renderTranslation(link.labelKey)}</span>\r\n                </Link>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right Section */}\r\n        <div className=\"flex items-center gap-1 sm:gap-2 shrink-0\">\r\n          {/* Notifications */}\r\n          <div className=\"relative\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              onClick={() => setShowNotifications(!showNotifications)}\r\n              className=\"relative\"\r\n            >\r\n              <Bell className=\"w-5 h-5\" />\r\n              {isMounted && unreadCount > 0 && (\r\n                <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center text-white\">\r\n                  {unreadCount}\r\n                </span>\r\n              )}\r\n            </Button>\r\n\r\n            <AnimatePresence>\r\n              {showNotifications && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: 10, scale: 0.95 }}\r\n                  animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                  exit={{ opacity: 0, y: 10, scale: 0.95 }}\r\n                  className=\"fixed sm:absolute left-4 right-4 sm:left-auto sm:right-0 mt-2 sm:w-80 bg-black/90 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl overflow-hidden z-50\"\r\n                >\r\n                  <div className=\"p-4 border-b border-white/10 flex items-center justify-between\">\r\n                    <h3 className=\"font-semibold text-white\">{t('nav.notifications')}</h3>\r\n                    {unreadCount > 0 && (\r\n                      <button\r\n                        onClick={markAllAsRead}\r\n                        className=\"text-xs text-red-400 hover:text-red-300 transition-colors\"\r\n                      >\r\n                        {t('nav.read_all')}\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"max-h-[320px] overflow-y-auto scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent\">\r\n                    {notifications.filter(n => !n.isRead).length === 0 ? (\r\n                      <div className=\"p-8 text-center\">\r\n                        <Bell className=\"w-8 h-8 text-gray-600 mx-auto mb-2 opacity-20\" />\r\n                        <p className=\"text-gray-500 text-sm\">\r\n                          {t('nav.no_notifications')}\r\n                        </p>\r\n                      </div>\r\n                    ) : (\r\n                      notifications\r\n                        .filter(n => !n.isRead)\r\n                        .slice(0, 3)\r\n                        .map((notification) => (\r\n                        <div\r\n                          key={notification.id}\r\n                          onClick={() => {\r\n                            markAsRead(notification.id);\r\n                            // If it's an announcement, we might want to navigate to an announcement page\r\n                            if (notification.type === 'UPDATE' || notification.type === 'PROMOTION') {\r\n                              router.push('/announcements');\r\n                            }\r\n                          }}\r\n                          className={cn(\r\n                            \"p-4 border-b border-white/5 cursor-pointer transition-colors hover:bg-white/5 relative group\",\r\n                            \"bg-red-500/5\"\r\n                          )}\r\n                        >\r\n                          <div className=\"flex justify-between items-start gap-2\">\r\n                            <p className=\"font-medium text-white text-sm leading-tight group-hover:text-red-400 transition-colors\">\r\n                              {notification.title}\r\n                            </p>\r\n                            <div className=\"w-2 h-2 rounded-full bg-red-500 mt-1 shrink-0\" />\r\n                          </div>\r\n                          <p className=\"text-gray-400 text-xs mt-1 line-clamp-2\">\r\n                            {notification.message}\r\n                          </p>\r\n                          <p className=\"text-[10px] text-gray-500 mt-2\">\r\n                            {new Date(notification.createdAt).toLocaleDateString(i18n.language === 'th' ? 'th-TH' : 'en-US', {\r\n                              day: 'numeric',\r\n                              month: 'short',\r\n                              hour: '2-digit',\r\n                              minute: '2-digit'\r\n                            })}\r\n                          </p>\r\n                        </div>\r\n                      ))\r\n                    )}\r\n                  </div>\r\n                  {notifications.filter(n => !n.isRead).length > 3 && (\r\n                    <div className=\"p-3 bg-white/5 border-t border-white/10 text-center\">\r\n                      <button \r\n                        onClick={() => {\r\n                          setShowNotifications(false);\r\n                          router.push('/notifications');\r\n                        }}\r\n                        className=\"text-xs text-gray-400 hover:text-white transition-colors\"\r\n                      >\r\n                        {t('nav.view_all_notifications')} ({notifications.filter(n => !n.isRead).length})\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </motion.div>\r\n              )}\r\n            </AnimatePresence>\r\n          </div>\r\n\r\n          {/* Wishlist */}\r\n          <Link href=\"/dashboard/wishlist\">\r\n            <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\r\n              <Heart className=\"w-5 h-5\" />\r\n              {isMounted && wishlistCount > 0 && (\r\n                <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center text-white\">\r\n                  {wishlistCount}\r\n                </span>\r\n              )}\r\n            </Button>\r\n          </Link>\r\n\r\n          {/* Cart */}\r\n          <Link href=\"/cart\">\r\n            <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\r\n              <ShoppingCart className=\"w-5 h-5\" />\r\n              {isMounted && itemCount > 0 && (\r\n                <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center text-white\">\r\n                  {itemCount}\r\n                </span>\r\n              )}\r\n            </Button>\r\n          </Link>\r\n\r\n          {/* Language Switcher */}\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            onClick={() => i18n.changeLanguage(i18n.language === 'th' ? 'en' : 'th')}\r\n            className=\"text-gray-400 hover:text-white\"\r\n          >\r\n            <Languages className=\"w-5 h-5\" />\r\n          </Button>\r\n\r\n          {/* User Menu / Login */}\r\n          <div className=\"hidden sm:flex items-center min-w-[100px] justify-end\">\r\n            {!isMounted ? (\r\n              <div className=\"h-9 w-24 bg-white/5 animate-pulse rounded-xl\" />\r\n            ) : (isAuthenticated || isOptimisticAuth) && user ? (\r\n              <div className=\"flex items-center gap-2\">\r\n                {/* Balance */}\r\n                <Link href=\"/dashboard/topup\">\r\n                  <div \r\n                    className=\"flex items-center gap-2 px-3 py-1.5 rounded-xl bg-red-400/10 border border-red-400/20 hover:bg-red-400/20 transition-colors\"\r\n                  >\r\n                    <Wallet className=\"w-4 h-4 text-red-400\" />\r\n                    <span className=\"text-red-400 font-bold text-sm\">\r\n                      ‡∏ø{(user.balance || 0).toLocaleString()}\r\n                    </span>\r\n                  </div>\r\n                </Link>\r\n                {/* User Menu */}\r\n                <div className=\"relative\">\r\n                  <Button \r\n                    variant=\"ghost\" \r\n                    className=\"gap-2\"\r\n                    onClick={() => setShowUserMenu(!showUserMenu)}\r\n                  >\r\n                    {user.avatar ? (\r\n                      <div className=\"w-8 h-8 rounded-full overflow-hidden border border-red-500/30\">\r\n                        <img \r\n                          src={user.avatar} \r\n                          alt={user.username} \r\n                          className=\"w-full h-full object-cover\"\r\n                        />\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"w-8 h-8 rounded-full bg-red-500/20 flex items-center justify-center\">\r\n                        <User className=\"w-4 h-4 text-red-400\" />\r\n                      </div>\r\n                    )}\r\n                    <span className=\"text-white\">{user.username}</span>\r\n                    <ChevronDown className=\"w-4 h-4\" />\r\n                  </Button>\r\n\r\n                  <AnimatePresence>\r\n                    {showUserMenu && (\r\n                      <motion.div\r\n                        initial={{ opacity: 0, y: 10, scale: 0.95 }}\r\n                        animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                        exit={{ opacity: 0, y: 10, scale: 0.95 }}\r\n                        className=\"absolute right-0 mt-2 w-56 bg-black/90 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl overflow-hidden z-50\"\r\n                      >\r\n                        {/* Tier Info */}\r\n                        <div className=\"px-4 py-3 border-b border-white/10 bg-white/2\">\r\n                          <div className=\"flex items-center justify-between mb-1\">\r\n                            <span className=\"text-[10px] font-bold text-gray-500 uppercase tracking-widest\">{t('nav.membership')}</span>\r\n                            {(() => {\r\n                              const tier = getTierInfo(user.totalSpent || 0);\r\n                              return (\r\n                                <Badge \r\n                                  className={cn(\r\n                                    \"px-2 py-0 h-5 border-none font-black text-[9px] uppercase tracking-tighter\",\r\n                                    tier.bg,\r\n                                    tier.color\r\n                                  )}\r\n                                >\r\n                                  {tier.icon} {tier.name}\r\n                                </Badge>\r\n                              );\r\n                            })()}\r\n                          </div>\r\n                          <p className=\"text-white font-bold text-sm\">{user.username}</p>\r\n                          <p className=\"text-gray-500 text-[10px] truncate\">{user.email || 'Member'}</p>\r\n                        </div>\r\n\r\n                        <Link \r\n                          href=\"/dashboard\"\r\n                          onClick={() => setShowUserMenu(false)}\r\n                          className=\"flex items-center gap-3 px-4 py-3 hover:bg-white/5 transition-colors text-gray-300 hover:text-white\"\r\n                        >\r\n                          <User className=\"w-4 h-4\" />\r\n                          {t('nav.dashboard')}\r\n                        </Link>\r\n                        <Link \r\n                          href=\"/dashboard/orders\"\r\n                          onClick={() => setShowUserMenu(false)}\r\n                          className=\"flex items-center gap-3 px-4 py-3 hover:bg-white/5 transition-colors text-gray-300 hover:text-white\"\r\n                        >\r\n                          <Package className=\"w-4 h-4\" />\r\n                          {t('nav.orders')}\r\n                        </Link>\r\n                        <Link \r\n                          href=\"/dashboard/wishlist\"\r\n                          onClick={() => setShowUserMenu(false)}\r\n                          className=\"flex items-center gap-3 px-4 py-3 hover:bg-white/5 transition-colors text-gray-300 hover:text-white\"\r\n                        >\r\n                          <Heart className=\"w-4 h-4\" />\r\n                          {t('nav.wishlist')}\r\n                        </Link>\r\n                        <div className=\"border-t border-white/10\">\r\n                          <button\r\n                            onClick={handleLogout}\r\n                            className=\"flex items-center gap-3 px-4 py-3 hover:bg-red-500/10 transition-colors text-gray-300 hover:text-red-400 w-full text-left\"\r\n                          >\r\n                            <LogOut className=\"w-4 h-4\" />\r\n                            {t('nav.logout')}\r\n                          </button>\r\n                        </div>\r\n                      </motion.div>\r\n                    )}\r\n                  </AnimatePresence>\r\n                </div>\r\n              </div>\r\n            ) : (isOptimisticAuth || loading) ? (\r\n              <div className=\"h-9 w-24 bg-white/5 animate-pulse rounded-xl\" />\r\n            ) : (\r\n              <Link href=\"/auth/login\">\r\n                <Button variant=\"default\" size=\"sm\" className=\"gap-2\">\r\n                  <LogIn className=\"w-4 h-4\" />\r\n                  {t('nav.login')}\r\n                </Button>\r\n              </Link>\r\n            )}\r\n          </div>\r\n\r\n          {/* Mobile Menu Button */}\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            className=\"xl:hidden\"\r\n            onClick={() => setIsOpen(!isOpen)}\r\n          >\r\n            {isOpen ? <X className=\"w-5 h-5\" /> : <Menu className=\"w-5 h-5\" />}\r\n          </Button>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Mobile Menu */}\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <motion.div\r\n            initial={{ opacity: 0, height: 0 }}\r\n            animate={{ opacity: 1, height: \"auto\" }}\r\n            exit={{ opacity: 0, height: 0 }}\r\n            className=\"xl:hidden bg-black/95 backdrop-blur-xl border-b border-white/10\"\r\n          >\r\n            <div className=\"container mx-auto px-4 py-4 space-y-2\">\r\n              {navLinks.map((link) => {\r\n                const Icon = link.icon;\r\n\r\n                if (link.dropdown) {\r\n                  const isAnyActive = link.dropdown.some(item => pathname === item.href);\r\n                  return (\r\n                    <div key={link.labelKey} className=\"space-y-1\">\r\n                      <div\r\n                        className={cn(\r\n                          \"flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold tracking-tight uppercase opacity-50\",\r\n                          isAnyActive ? \"text-red-500\" : \"text-gray-400\"\r\n                        )}\r\n                      >\r\n                        <Icon className=\"w-5 h-5\" />\r\n                        {renderTranslation(link.labelKey)}\r\n                        <ChevronDown className=\"w-4 h-4\" />\r\n                      </div>\r\n                      <div className=\"pl-4 space-y-1 border-l border-white/10 ml-6\">\r\n                        {link.dropdown.map((item) => {\r\n                          const DropdownIcon = item.icon;\r\n                          const isItemActive = pathname === item.href;\r\n                          return (\r\n                            <Link\r\n                              key={item.href}\r\n                              href={item.href}\r\n                              onClick={() => setIsOpen(false)}\r\n                              className={cn(\r\n                                \"flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all\",\r\n                                isItemActive\r\n                                  ? \"bg-red-500/10 text-red-500 border border-red-500/20\"\r\n                                  : \"text-gray-300 hover:bg-white/5\"\r\n                              )}\r\n                            >\r\n                              <DropdownIcon className=\"w-5 h-5\" />\r\n                              {renderTranslation(item.labelKey)}\r\n                            </Link>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                }\r\n\r\n                const isActive = pathname === link.href;\r\n                return (\r\n                  <Link\r\n                    key={link.href}\r\n                    href={link.href}\r\n                    onClick={() => setIsOpen(false)}\r\n                    className={cn(\r\n                      \"flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all\",\r\n                      isActive\r\n                        ? \"bg-red-500/10 text-red-500 border border-red-500/20\"\r\n                        : \"text-gray-300 hover:bg-white/5\"\r\n                    )}\r\n                  >\r\n                    <Icon className=\"w-5 h-5\" />\r\n                    {renderTranslation(link.labelKey)}\r\n                  </Link>\r\n                );\r\n              })}\r\n              \r\n              <div className=\"pt-3 mt-1 border-t border-white/10 space-y-2\">\r\n                {!isMounted ? (\r\n                  <div className=\"h-12 w-full bg-white/5 animate-pulse rounded-xl\" />\r\n                ) : (isAuthenticated || isOptimisticAuth) && user ? (\r\n                  <>\r\n                    {/* User Profile & Balance Row */}\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Link\r\n                        href=\"/dashboard\"\r\n                        onClick={() => setIsOpen(false)}\r\n                        className=\"flex-1 flex items-center gap-3 px-4 py-2.5 rounded-xl bg-white/5 hover:bg-white/10 transition-colors\"\r\n                      >\r\n                        {user.avatar ? (\r\n                          <div className=\"w-9 h-9 rounded-full overflow-hidden border border-red-500/30\">\r\n                            <img \r\n                              src={user.avatar} \r\n                              alt={user.username} \r\n                              className=\"w-full h-full object-cover\"\r\n                            />\r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"w-9 h-9 rounded-full bg-red-500/20 flex items-center justify-center\">\r\n                            <User className=\"w-4 h-4 text-red-400\" />\r\n                          </div>\r\n                        )}\r\n                        <div>\r\n                          <p className=\"font-medium text-white text-sm\">{user.username}</p>\r\n                          <p className=\"text-xs text-gray-500\">‡∏î‡∏π‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</p>\r\n                        </div>\r\n                      </Link>\r\n                      <Link\r\n                        href=\"/dashboard/topup\"\r\n                        onClick={() => setIsOpen(false)}\r\n                        className=\"flex items-center gap-1.5 px-3 py-2.5 rounded-xl bg-red-500/10 border border-red-500/20 hover:bg-red-500/30 transition-colors\"\r\n                      >\r\n                        <Wallet className=\"w-4 h-4 text-red-400\" />\r\n                        <span className=\"text-red-400 font-bold text-sm\">‡∏ø{(user.balance || 0).toLocaleString()}</span>\r\n                      </Link>\r\n                    </div>\r\n\r\n                    {/* Quick Links */}\r\n                    <div className=\"grid grid-cols-2 gap-2\">\r\n                      <Link\r\n                        href=\"/dashboard/orders\"\r\n                        onClick={() => setIsOpen(false)}\r\n                        className=\"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-white/5 hover:bg-white/10 transition-colors text-sm text-gray-300\"\r\n                      >\r\n                        <Package className=\"w-4 h-4\" />\r\n                        {t('nav.orders')}\r\n                      </Link>\r\n                      <Link\r\n                        href=\"/dashboard/wishlist\"\r\n                        onClick={() => setIsOpen(false)}\r\n                        className=\"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-white/5 hover:bg-white/10 transition-colors text-sm text-gray-300\"\r\n                      >\r\n                        <Heart className=\"w-4 h-4\" />\r\n                        {t('nav.wishlist')}\r\n                      </Link>\r\n                    </div>\r\n\r\n                    <button\r\n                      onClick={handleLogout}\r\n                      className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl bg-red-500/10 hover:bg-red-500/20 transition-colors text-red-400 text-sm font-medium mt-2\"\r\n                    >\r\n                      <LogOut className=\"w-5 h-5\" />\r\n                      {t('nav.logout')}\r\n                    </button>\r\n                  </>\r\n                ) : (isOptimisticAuth || loading) ? (\r\n                  <div className=\"h-12 w-full bg-white/5 animate-pulse rounded-xl\" />\r\n                ) : (\r\n                  <Link href=\"/auth/login\" onClick={() => setIsOpen(false)}>\r\n                    <Button variant=\"default\" className=\"w-full gap-2\">\r\n                      <LogIn className=\"w-4 h-4\" />\r\n                      {t('nav.login_discord')}\r\n                    </Button>\r\n                  </Link>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </header>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\components\\lucky-wheel\\LuckyWheelTrigger.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`checkStatus` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nD:\\Projects\\qr-studios\\src\\components\\lucky-wheel\\LuckyWheelTrigger.tsx:17:7\n  15 |   useEffect(() => {\n  16 |     if (isAuthenticated) {\n> 17 |       checkStatus();\n     |       ^^^^^^^^^^^ `checkStatus` accessed before it is declared\n  18 |     }\n  19 |   }, [isAuthenticated]);\n  20 |\n\nD:\\Projects\\qr-studios\\src\\components\\lucky-wheel\\LuckyWheelTrigger.tsx:21:3\n  19 |   }, [isAuthenticated]);\n  20 |\n> 21 |   const checkStatus = async () => {\n     |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 22 |     try {\n     | ^^^^^^^^^\n> 23 |       const res = await luckyWheelApi.getStatus();\n     ‚Ä¶\n     | ^^^^^^^^^\n> 33 |     }\n     | ^^^^^^^^^\n> 34 |   };\n     | ^^^^^ `checkStatus` is declared here\n  35 |\n  36 |   // Prevent flashing by waiting for both auth and status check\n  37 |   if (!isAuthenticated || authLoading || isEnabled !== true) return null;","line":17,"column":7,"nodeType":null,"endLine":17,"endColumn":18}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Star } from \"lucide-react\";\r\nimport { LuckyWheelModal } from \"./LuckyWheelModal\";\r\nimport { useAuth } from \"@/hooks/useAuth\";\r\nimport { luckyWheelApi } from \"@/lib/api\";\r\n\r\nexport function LuckyWheelTrigger() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isEnabled, setIsEnabled] = useState<boolean | null>(null);\r\n  const { isAuthenticated, loading: authLoading } = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      checkStatus();\r\n    }\r\n  }, [isAuthenticated]);\r\n\r\n  const checkStatus = async () => {\r\n    try {\r\n      const res = await luckyWheelApi.getStatus();\r\n      const statusData = (res.data as any);\r\n      if (statusData?.success && typeof statusData.data?.enabled === 'boolean') {\r\n        setIsEnabled(statusData.data.enabled);\r\n      } else {\r\n        setIsEnabled(true);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to check wheel status\", error);\r\n      setIsEnabled(true);\r\n    }\r\n  };\r\n\r\n  // Prevent flashing by waiting for both auth and status check\r\n  if (!isAuthenticated || authLoading || isEnabled !== true) return null;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"fixed bottom-24 right-6 z-50\">\r\n        <motion.button\r\n          whileHover={{ scale: 1.1 }}\r\n          whileTap={{ scale: 0.9 }}\r\n          onClick={() => setIsOpen(true)}\r\n          className=\"relative group w-14 h-14 bg-red-600 rounded-full flex items-center justify-center shadow-2xl shadow-red-600/40 border-2 border-white/20 overflow-hidden\"\r\n        >\r\n          {/* Animated background */}\r\n          <div className=\"absolute inset-0 bg-linear-to-tr from-yellow-400/20 to-transparent animate-pulse\" />\r\n          \r\n          <Star className=\"w-7 h-7 text-white fill-white relative z-10 group-hover:rotate-12 transition-transform duration-300\" />\r\n          \r\n          {/* Label */}\r\n          <div className=\"absolute bottom-full right-0 mb-4 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none\">\r\n            <div className=\"bg-black/90 backdrop-blur-md border border-white/10 px-3 py-1.5 rounded-xl shadow-2xl whitespace-nowrap\">\r\n              <span className=\"text-[10px] font-black text-white uppercase tracking-widest\">Lucky Wheel!</span>\r\n            </div>\r\n          </div>\r\n        </motion.button>\r\n      </div>\r\n\r\n      <LuckyWheelModal isOpen={isOpen} onClose={() => setIsOpen(false)} />\r\n    </>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\components\\product\\product-card.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\components\\product\\product-card.tsx:25:5\n  23 |\n  24 |   useEffect(() => {\n> 25 |     setIsMounted(true);\n     |     ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  26 |   }, []);\n  27 |\n  28 | // @ts-expect-error - handleAddToCart is planned for future use","line":25,"column":5,"nodeType":null,"endLine":25,"endColumn":17}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { memo, useCallback, useState, useEffect } from \"react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { motion } from \"framer-motion\";\r\nimport { ImageOff, Star } from \"lucide-react\";\r\nimport { Card, StockCounter, ReviewStars } from \"@/components/ui\";\r\nimport { useCartStore } from \"@/store/cart\";\r\nimport { useRecentlyViewedStore } from \"@/store/recently-viewed\";\r\nimport { formatPrice, getProductPrice, isProductOnFlashSale } from \"@/lib/utils\";\r\nimport type { Product } from \"@/types\";\r\n\r\ninterface ProductCardProps {\r\n  product: Product;\r\n  index?: number;\r\n}\r\n\r\nexport const ProductCard = memo(function ProductCard({ product, index = 0 }: ProductCardProps) {\r\n  const [isMounted, setIsMounted] = useState(false);\r\n  const addItem = useCartStore((state) => state.addItem);\r\n  const addToRecentlyViewed = useRecentlyViewedStore((state) => state.addItem);\r\n\r\n  useEffect(() => {\r\n    setIsMounted(true);\r\n  }, []);\r\n\r\n// @ts-expect-error - handleAddToCart is planned for future use\r\n  const handleAddToCart = useCallback((e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    addItem(product);\r\n  }, [addItem, product]);\r\n\r\n  const handleClick = useCallback(() => {\r\n    if (!product) return;\r\n    addToRecentlyViewed({\r\n      id: product.id,\r\n      name: product.name,\r\n      price: product.price,\r\n      image: product.thumbnail || \"\",\r\n      category: product.category,\r\n      stock: product.stock,\r\n      isFlashSale: product.isFlashSale,\r\n      flashSalePrice: product.flashSalePrice,\r\n      flashSaleEnds: product.flashSaleEnds,\r\n      rewardPoints: product.rewardPoints,\r\n      expectedPoints: product.expectedPoints,\r\n    });\r\n  }, [addToRecentlyViewed, product]);\r\n\r\n  const stock = product.stock;\r\n\r\n  if (!isMounted) return null;\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.4, delay: index * 0.1 }}\r\n    >\r\n      <Link href={`/products/${product.id}`} onClick={handleClick}>\r\n        <Card className=\"group overflow-hidden hover:border-red-500/50 transition-all duration-300 hover:shadow-lg hover:shadow-red-500/10\">\r\n          {/* Image */}\r\n          <div className=\"relative aspect-video bg-linear-to-br from-red-900/50 to-black overflow-hidden\">\r\n            {product.thumbnail ? (\r\n              <Image\r\n                src={product.thumbnail}\r\n                alt={product.name}\r\n                fill\r\n                className=\"object-cover transition-transform duration-500 group-hover:scale-110\"\r\n              />\r\n            ) : (\r\n              <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-white/5\">\r\n                <ImageOff className=\"w-10 h-10 text-gray-600 mb-2\" />\r\n                <span className=\"text-[10px] font-black uppercase tracking-widest text-gray-600\">No Image</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"p-4 space-y-2\">\r\n            <h3 className=\"text-base font-bold text-white group-hover:text-red-300 transition-colors line-clamp-1\">\r\n              {product.name}\r\n            </h3>\r\n\r\n            <p className=\"text-xs text-gray-400 line-clamp-2 leading-relaxed\">\r\n              {product.description}\r\n            </p>\r\n\r\n            {/* Rating & Stock */}\r\n            <div className=\"flex items-center justify-between pt-1\">\r\n              <div className=\"flex items-center gap-1.5\">\r\n                <ReviewStars rating={product.rating || 0} size=\"xs\" />\r\n                <span className=\"text-[10px] text-gray-500 font-bold\">\r\n                  ({product.reviewCount})\r\n                </span>\r\n              </div>\r\n              <div className=\"text-[10px] text-gray-500 uppercase font-black tracking-widest\">\r\n                <StockCounter stock={stock} showIcon={false} />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Price & Points */}\r\n            <div className=\"flex items-center justify-between pt-3 border-t border-white/5\">\r\n              <div className=\"flex items-baseline gap-2\">\r\n                <span className=\"text-base font-black text-red-500 tracking-tighter\">\r\n                  {formatPrice(getProductPrice(product))}\r\n                </span>\r\n                {isProductOnFlashSale(product) && (\r\n                  <span className=\"text-[10px] text-gray-500 line-through opacity-50 font-bold\">\r\n                    {formatPrice(product.price)}\r\n                  </span>\r\n                )}\r\n                {!isProductOnFlashSale(product) && product.originalPrice && (\r\n                  <span className=\"text-[10px] text-gray-500 line-through opacity-50 font-bold\">\r\n                    {formatPrice(product.originalPrice)}\r\n                  </span>\r\n                )}\r\n              </div>\r\n\r\n              {/* Reward Points */}\r\n              {product.expectedPoints !== undefined && product.expectedPoints > 0 && (\r\n                <div className=\"flex items-center gap-1.5 px-2 py-1 rounded-lg bg-yellow-400/5 border border-yellow-400/10\">\r\n                  <Star className=\"w-3 h-3 text-yellow-500 fill-yellow-500/20\" />\r\n                  <span className=\"text-[10px] font-black text-yellow-500 tracking-tighter\">\r\n                    {product.expectedPoints.toLocaleString()} <span className=\"text-[8px] uppercase opacity-60\">Pts</span>\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </Link>\r\n    </motion.div>\r\n  );\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\components\\product\\recently-viewed.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\components\\product\\recently-viewed.tsx:24:5\n  22 |\n  23 |   useEffect(() => {\n> 24 |     setIsMounted(true);\n     |     ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  25 |   }, []);\n  26 |\n  27 |   const filteredItems = useMemo(() => ","line":24,"column":5,"nodeType":null,"endLine":24,"endColumn":17}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState, useMemo } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Clock, ArrowRight, ImageOff, Star } from \"lucide-react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useRecentlyViewedStore } from \"@/store/recently-viewed\";\r\nimport { Card } from \"@/components/ui\";\r\nimport { formatPrice, getProductPrice, isProductOnFlashSale } from \"@/lib/utils\";\r\n\r\ninterface RecentlyViewedProps {\r\n  limit?: number;\r\n  excludeId?: string;\r\n}\r\n\r\nexport function RecentlyViewed({ limit = 4, excludeId }: RecentlyViewedProps) {\r\n  const { t } = useTranslation(\"home\");\r\n  const { items } = useRecentlyViewedStore();\r\n  const [isMounted, setIsMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsMounted(true);\r\n  }, []);\r\n\r\n  const filteredItems = useMemo(() => \r\n    items\r\n      .filter((item) => item.id !== excludeId)\r\n      .slice(0, limit),\r\n    [items, excludeId, limit]\r\n  );\r\n\r\n  if (!isMounted) return null;\r\n\r\n  if (filteredItems.length === 0) return null;\r\n\r\n  return (\r\n    <section className=\"py-6\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"w-9 h-9 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center justify-center\">\r\n            <Clock className=\"w-4.5 h-4.5 text-red-500\" />\r\n          </div>\r\n          <h2 className=\"text-lg font-black text-white tracking-tight\">{t(\"products.recently_viewed\")}</h2>\r\n        </div>\r\n        <Link\r\n          href=\"/products\"\r\n          className=\"flex items-center gap-1 text-[10px] font-black uppercase tracking-widest text-gray-500 hover:text-red-400 transition-colors\"\r\n        >\r\n          <span>{t(\"products.view_all\")}</span>\r\n          <ArrowRight className=\"w-3.5 h-3.5\" />\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n        {filteredItems.map((item, index) => (\r\n          <motion.div\r\n            key={item.id}\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: index * 0.1 }}\r\n          >\r\n            <Link href={`/products/${item.id}`}>\r\n              <Card className=\"group overflow-hidden border-white/5 bg-white/2 hover:border-red-500/50 transition-all duration-300\">\r\n                <div className=\"relative aspect-video\">\r\n                  {item.image ? (\r\n                    <Image\r\n                      src={item.image}\r\n                      alt={item.name}\r\n                      fill\r\n                      className=\"object-cover transition-transform duration-500 group-hover:scale-110\"\r\n                    />\r\n                  ) : (\r\n                    <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-white/5\">\r\n                      <ImageOff className=\"w-8 h-8 text-gray-600 mb-1\" />\r\n                      <span className=\"text-[8px] font-black uppercase tracking-widest text-gray-600\">No Image</span>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"absolute inset-0 bg-linear-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                </div>\r\n                <div className=\"p-3\">\r\n                  <p className=\"text-[10px] text-gray-500 font-bold uppercase tracking-wider mb-1\">{item.category}</p>\r\n                  <h3 className=\"font-bold text-white text-xs line-clamp-1 group-hover:text-red-400 transition-colors\">\r\n                    {item.name}\r\n                  </h3>\r\n                  <div className=\"flex items-center justify-between gap-1.5 mt-1\">\r\n                    <div className=\"flex items-baseline gap-1.5\">\r\n                      <p className=\"text-red-500 font-black text-xs tracking-tighter\">\r\n                        {formatPrice(getProductPrice(item))}\r\n                      </p>\r\n                      {isProductOnFlashSale(item) && (\r\n                        <p className=\"text-[8px] text-gray-500 line-through opacity-50 font-bold\">\r\n                          {formatPrice(item.price)}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Reward Points */}\r\n                    {item.expectedPoints !== undefined && item.expectedPoints > 0 && (\r\n                      <div className=\"flex items-center gap-1 px-1.5 py-0.5 rounded-lg bg-yellow-400/5 border border-yellow-400/10\">\r\n                        <Star className=\"w-2.5 h-2.5 text-yellow-500 fill-yellow-500/20\" />\r\n                        <span className=\"text-[8px] font-black text-yellow-500 tracking-tighter\">\r\n                          {item.expectedPoints.toLocaleString()} <span className=\"opacity-60\">PTS</span>\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </Card>\r\n            </Link>\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\components\\ui\\confetti.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\components\\ui\\confetti.tsx:45:7\n  43 |         duration: 2.5 + Math.random(),\n  44 |       }));\n> 45 |       setPieces(newPieces);\n     |       ^^^^^^^^^ Avoid calling setState() directly within an effect\n  46 |       setShow(true);\n  47 |\n  48 |       // Hide after duration","line":45,"column":7,"nodeType":null,"endLine":45,"endColumn":16}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface ConfettiPiece {\r\n  id: number;\r\n  x: number;\r\n  color: string;\r\n  delay: number;\r\n  rotation: number;\r\n  duration: number;\r\n}\r\n\r\ninterface ConfettiProps {\r\n  isActive: boolean;\r\n  duration?: number;\r\n}\r\n\r\nconst colors = [\r\n  \"#ef4444\", // red\r\n  \"#dc2626\", // red-600\r\n  \"#991b1b\", // red-800\r\n  \"#f87171\", // red-400\r\n  \"#b91c1c\", // red-700\r\n  \"#7f1d1d\", // red-900\r\n  \"#fee2e2\", // red-50\r\n];\r\n\r\nexport function Confetti({ isActive, duration = 3000 }: ConfettiProps) {\r\n  const [pieces, setPieces] = useState<ConfettiPiece[]>([]);\r\n  const [show, setShow] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isActive) {\r\n      // Generate confetti pieces\r\n      const newPieces: ConfettiPiece[] = Array.from({ length: 50 }, (_, i) => ({\r\n        id: i,\r\n        x: Math.random() * 100,\r\n        color: colors[Math.floor(Math.random() * colors.length)],\r\n        delay: Math.random() * 0.5,\r\n        rotation: Math.random() * 360,\r\n        duration: 2.5 + Math.random(),\r\n      }));\r\n      setPieces(newPieces);\r\n      setShow(true);\r\n\r\n      // Hide after duration\r\n      const timer = setTimeout(() => {\r\n        setShow(false);\r\n      }, duration);\r\n\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [isActive, duration]);\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {show && (\r\n        <div className=\"fixed inset-0 pointer-events-none z-200 overflow-hidden\">\r\n          {pieces.map((piece) => (\r\n            <motion.div\r\n              key={piece.id}\r\n              initial={{\r\n                opacity: 1,\r\n                x: `${piece.x}vw`,\r\n                y: -20,\r\n                rotate: 0,\r\n                scale: 1,\r\n              }}\r\n              animate={{\r\n                opacity: [1, 1, 0],\r\n                y: \"100vh\",\r\n                rotate: piece.rotation + 720,\r\n                scale: [1, 1, 0.5],\r\n              }}\r\n              exit={{ opacity: 0 }}\r\n              transition={{\r\n                duration: piece.duration,\r\n                delay: piece.delay,\r\n                ease: \"easeOut\",\r\n              }}\r\n              className=\"absolute w-3 h-3\"\r\n              style={{ backgroundColor: piece.color }}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\n// Hook to trigger confetti\r\nexport function useConfetti() {\r\n  const [isActive, setIsActive] = useState(false);\r\n\r\n  const trigger = () => {\r\n    setIsActive(true);\r\n    setTimeout(() => setIsActive(false), 100);\r\n  };\r\n\r\n  return { isActive, trigger };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\components\\ui\\modal.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\components\\ui\\modal.tsx:33:5\n  31 |\n  32 |   useEffect(() => {\n> 33 |     setIsMounted(true);\n     |     ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  34 |   }, []);\n  35 |\n  36 |   const handleEscape = useCallback(","line":33,"column":5,"nodeType":null,"endLine":33,"endColumn":17}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useCallback, useState } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { X } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface ModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  children: React.ReactNode;\r\n  title?: string;\r\n  className?: string;\r\n  showCloseButton?: boolean;\r\n  closeOnOverlayClick?: boolean;\r\n  closeOnEscape?: boolean;\r\n}\r\n\r\nexport function Modal({\r\n  isOpen,\r\n  onClose,\r\n  children,\r\n  title,\r\n  className,\r\n  showCloseButton = true,\r\n  closeOnOverlayClick = true,\r\n  closeOnEscape = true,\r\n}: ModalProps) {\r\n  const [isMounted, setIsMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsMounted(true);\r\n  }, []);\r\n\r\n  const handleEscape = useCallback(\r\n    (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\" && closeOnEscape) {\r\n        onClose();\r\n      }\r\n    },\r\n    [onClose, closeOnEscape]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.addEventListener(\"keydown\", handleEscape);\r\n      const originalStyle = window.getComputedStyle(document.body).overflow;\r\n      document.body.style.overflow = \"hidden\";\r\n      return () => {\r\n        document.removeEventListener(\"keydown\", handleEscape);\r\n        document.body.style.overflow = originalStyle;\r\n      };\r\n    }\r\n  }, [isOpen, handleEscape]);\r\n\r\n  if (!isMounted) return null;\r\n\r\n  return createPortal(\r\n    <AnimatePresence mode=\"wait\">\r\n      {isOpen && (\r\n        <>\r\n          {/* Backdrop Layer - Fixed sibling for perfect viewport coverage */}\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            transition={{ duration: 0.2 }}\r\n            className=\"fixed inset-[-100vh] z-1000000 bg-black/80 backdrop-blur-xl pointer-events-auto\"\r\n            onClick={closeOnOverlayClick ? onClose : undefined}\r\n          />\r\n\r\n          {/* Content & Scrolling Layer - Fixed sibling */}\r\n          <div className=\"fixed inset-0 z-1000001 overflow-y-auto pointer-events-none flex items-center justify-center p-4\">\r\n            <div className=\"flex min-h-full w-full items-center justify-center py-12\">\r\n              {/* Modal Content Card */}\r\n              <motion.div\r\n                initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                transition={{ duration: 0.2, ease: \"easeOut\" }}\r\n                className={cn(\r\n                  \"relative w-full max-w-lg rounded-3xl bg-black/95 backdrop-blur-2xl border border-white/10 shadow-2xl overflow-hidden pointer-events-auto flex flex-col my-auto\",\r\n                  className\r\n                )}\r\n              >\r\n                {/* Header */}\r\n                {(title || showCloseButton) && (\r\n                  <div className=\"flex items-center justify-between p-5 border-b border-white/5 bg-white/2 shrink-0\">\r\n                    {title && (\r\n                      <h2 className=\"text-lg font-bold text-white tracking-tight\">{title}</h2>\r\n                    )}\r\n                    {showCloseButton && (\r\n                      <button\r\n                        onClick={onClose}\r\n                        className=\"ml-auto p-2 rounded-xl text-gray-500 hover:text-white hover:bg-white/10 transition-all duration-300\"\r\n                      >\r\n                        <X className=\"w-5 h-5\" />\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Body */}\r\n                <div className=\"p-0 flex-1 overflow-y-auto custom-scrollbar\">\r\n                  {children}\r\n                </div>\r\n              </motion.div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </AnimatePresence>,\r\n    document.body\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\qr-studios\\src\\components\\ui\\wishlist-button.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\qr-studios\\src\\components\\ui\\wishlist-button.tsx:23:7\n  21 |     const isPresent = isInWishlist(item.id);\n  22 |     if (isWishlisted !== isPresent) {\n> 23 |       setIsWishlisted(isPresent);\n     |       ^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  24 |     }\n  25 |   }, [item.id, isInWishlist, isWishlisted]);\n  26 |","line":23,"column":7,"nodeType":null,"endLine":23,"endColumn":22}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Heart } from \"lucide-react\";\r\nimport { useWishlistStore, WishlistItem } from \"@/store/wishlist\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface WishlistButtonProps {\r\n  item: WishlistItem;\r\n  className?: string;\r\n  size?: \"sm\" | \"md\" | \"lg\" | \"xl\";\r\n}\r\n\r\nexport function WishlistButton({ item, className, size = \"md\" }: WishlistButtonProps) {\r\n  const { addItem, removeItem, isInWishlist } = useWishlistStore();\r\n  const [isWishlisted, setIsWishlisted] = useState(false);\r\n  const [showAnimation, setShowAnimation] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const isPresent = isInWishlist(item.id);\r\n    if (isWishlisted !== isPresent) {\r\n      setIsWishlisted(isPresent);\r\n    }\r\n  }, [item.id, isInWishlist, isWishlisted]);\r\n\r\n  const handleClick = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (isWishlisted) {\r\n      removeItem(item.id);\r\n      setIsWishlisted(false);\r\n    } else {\r\n      addItem(item);\r\n      setIsWishlisted(true);\r\n      setShowAnimation(true);\r\n      setTimeout(() => setShowAnimation(false), 600);\r\n    }\r\n  };\r\n\r\n  const sizeClasses = {\r\n    sm: \"w-8 h-8\",\r\n    md: \"w-10 h-10\",\r\n    lg: \"w-12 h-12\",\r\n    xl: \"w-14 h-14\",\r\n  };\r\n\r\n  const iconSizes = {\r\n    sm: \"w-4 h-4\",\r\n    md: \"w-5 h-5\",\r\n    lg: \"w-6 h-6\",\r\n    xl: \"w-7 h-7\",\r\n  };\r\n\r\n  return (\r\n    <button\r\n      onClick={handleClick}\r\n      className={cn(\r\n        \"relative rounded-full flex items-center justify-center transition-all\",\r\n        \"bg-black/50 hover:bg-black/70 backdrop-blur-sm\",\r\n        sizeClasses[size],\r\n        className\r\n      )}\r\n      aria-label={isWishlisted ? \"‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î\" : \"‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î\"}\r\n    >\r\n      <motion.div\r\n        animate={isWishlisted ? { scale: [1, 1.2, 1] } : {}}\r\n        transition={{ duration: 0.3 }}\r\n      >\r\n        <Heart\r\n          className={cn(\r\n            iconSizes[size],\r\n            \"transition-colors\",\r\n            isWishlisted ? \"fill-red-500 text-red-500\" : \"text-white\"\r\n          )}\r\n        />\r\n      </motion.div>\r\n\r\n      {/* Heart burst animation */}\r\n      <AnimatePresence>\r\n        {showAnimation && (\r\n          <>\r\n            {[...Array(Math.max(0, 6))].map((_, i) => (\r\n              <motion.div\r\n                key={i}\r\n                initial={{ scale: 0, opacity: 1 }}\r\n                animate={{\r\n                  scale: 2,\r\n                  opacity: 0,\r\n                  x: Math.cos((i * 60 * Math.PI) / 180) * 20,\r\n                  y: Math.sin((i * 60 * Math.PI) / 180) * 20,\r\n                }}\r\n                exit={{ opacity: 0 }}\r\n                transition={{ duration: 0.5 }}\r\n                className=\"absolute w-2 h-2 rounded-full bg-red-500\"\r\n              />\r\n            ))}\r\n          </>\r\n        )}\r\n      </AnimatePresence>\r\n    </button>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]}]